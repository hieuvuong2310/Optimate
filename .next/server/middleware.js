(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{12:(a,b,c)=>{"use strict";c.d(b,{redirect:()=>g});var d=c(378),e=c(944);let f=c(918).s;function g(a,b){var c;throw null!=b||(b=(null==f||null==(c=f.getStore())?void 0:c.isAction)?e.zB.push:e.zB.replace),function(a,b,c){void 0===c&&(c=d.Q.TemporaryRedirect);let f=Object.defineProperty(Error(e.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=e.oJ+";"+b+";"+a+";"+c+";",f}(a,b,d.Q.TemporaryRedirect)}var h=c(66);h.s8,h.s8,h.s8,c(515).X},58:(a,b,c)=>{"use strict";c.d(b,{xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}},66:(a,b,c)=>{"use strict";c.d(b,{RM:()=>f,s8:()=>e});let d=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),e="NEXT_HTTP_ERROR_FALLBACK";function f(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===e&&d.has(Number(c))}},107:(a,b,c)=>{"use strict";c.d(b,{wi:()=>m,I3:()=>k,Ui:()=>i,xI:()=>g,Pk:()=>h});var d=c(814),e=c(159);c(979),c(128),c(379),c(770),c(340),c(809);let f="function"==typeof d.unstable_postpone;function g(a,b,c){let d=Object.defineProperty(new e.F(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function h(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function i(a,b,c){(function(){if(!f)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.unstable_postpone(j(a,b))}function j(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&l(a.message)}function l(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===l(j("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});function m(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},128:(a,b,c)=>{"use strict";c.d(b,{M1:()=>e,FP:()=>d});let d=(0,c(58).xl)();function e(a){throw Object.defineProperty(Error(`\`${a}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}},159:(a,b,c)=>{"use strict";c.d(b,{F:()=>e,h:()=>f});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}},165:(a,b,c)=>{"use strict";var d=c(356).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleFetch:function(){return h},interceptFetch:function(){return i},reader:function(){return f}});let e=c(392),f={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function g(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function h(a,b){let c=(0,e.getTestReqInfo)(b,f);if(!c)return a(b);let{testData:h,proxyPort:i}=c,j=await g(h,b),k=await a(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:n,headers:o,body:p}=l.response;return new Response(p?d.from(p,"base64"):null,{status:n,headers:new Headers(o)});default:return m}}function i(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):h(a,new Request(b,c))},()=>{c.g.fetch=a}}},213:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},340:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===a.digest}c.d(b,{C:()=>d})},356:a=>{"use strict";a.exports=require("node:buffer")},378:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({})},379:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(0,c(58).xl)()},392:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getTestReqInfo:function(){return g},withRequest:function(){return f}});let d=new(c(521)).AsyncLocalStorage;function e(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function f(a,b,c){let f=e(a,b);return f?d.run(f,c):c()}function g(a,b){let c=d.getStore();return c||(a&&b?e(a,b):void 0)}},440:(a,b)=>{"use strict";var c={H:null,A:null};function d(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=Array.isArray;function f(){}var g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.iterator,q=Object.prototype.hasOwnProperty,r=Object.assign;function s(a,b,c){var d=c.ref;return{$$typeof:g,type:a,key:b,ref:void 0!==d?d:null,props:c}}function t(a){return"object"==typeof a&&null!==a&&a.$$typeof===g}var u=/\/+/g;function v(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function w(a,b,c){if(null==a)return a;var i=[],j=0;return!function a(b,c,i,j,k){var l,m,n,q=typeof b;("undefined"===q||"boolean"===q)&&(b=null);var r=!1;if(null===b)r=!0;else switch(q){case"bigint":case"string":case"number":r=!0;break;case"object":switch(b.$$typeof){case g:case h:r=!0;break;case o:return a((r=b._init)(b._payload),c,i,j,k)}}if(r)return k=k(b),r=""===j?"."+v(b,0):j,e(k)?(i="",null!=r&&(i=r.replace(u,"$&/")+"/"),a(k,c,i,"",function(a){return a})):null!=k&&(t(k)&&(l=k,m=i+(null==k.key||b&&b.key===k.key?"":(""+k.key).replace(u,"$&/")+"/")+r,k=s(l.type,m,l.props)),c.push(k)),1;r=0;var w=""===j?".":j+":";if(e(b))for(var x=0;x<b.length;x++)q=w+v(j=b[x],x),r+=a(j,c,i,q,k);else if("function"==typeof(x=null===(n=b)||"object"!=typeof n?null:"function"==typeof(n=p&&n[p]||n["@@iterator"])?n:null))for(b=x.call(b),x=0;!(j=b.next()).done;)q=w+v(j=j.value,x++),r+=a(j,c,i,q,k);else if("object"===q){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(f,f):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,i,j,k);throw Error(d(31,"[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c))}return r}(a,i,"","",function(a){return b.call(c,a,j++)}),i}function x(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}function y(){return new WeakMap}function z(){return{s:0,v:void 0,o:null,p:null}}b.Children={map:w,forEach:function(a,b,c){w(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return w(a,function(){b++}),b},toArray:function(a){return w(a,function(a){return a})||[]},only:function(a){if(!t(a))throw Error(d(143));return a}},b.Fragment=i,b.Profiler=k,b.StrictMode=j,b.Suspense=m,b.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,b.cache=function(a){return function(){var b=c.A;if(!b)return a.apply(null,arguments);var d=b.getCacheForType(y);void 0===(b=d.get(a))&&(b=z(),d.set(a,b)),d=0;for(var e=arguments.length;d<e;d++){var f=arguments[d];if("function"==typeof f||"object"==typeof f&&null!==f){var g=b.o;null===g&&(b.o=g=new WeakMap),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}else null===(g=b.p)&&(b.p=g=new Map),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var h=a.apply(null,arguments);return(d=b).s=1,d.v=h}catch(a){throw(h=b).s=2,h.v=a,a}}},b.cacheSignal=function(){var a=c.A;return a?a.cacheSignal():null},b.captureOwnerStack=function(){return null},b.cloneElement=function(a,b,c){if(null==a)throw Error(d(267,a));var e=r({},a.props),f=a.key;if(null!=b)for(g in void 0!==b.key&&(f=""+b.key),b)q.call(b,g)&&"key"!==g&&"__self"!==g&&"__source"!==g&&("ref"!==g||void 0!==b.ref)&&(e[g]=b[g]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}return s(a.type,f,e)},b.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)q.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return s(a,f,e)},b.createRef=function(){return{current:null}},b.forwardRef=function(a){return{$$typeof:l,render:a}},b.isValidElement=t,b.lazy=function(a){return{$$typeof:o,_payload:{_status:-1,_result:a},_init:x}},b.memo=function(a,b){return{$$typeof:n,type:a,compare:void 0===b?null:b}},b.use=function(a){return c.H.use(a)},b.useCallback=function(a,b){return c.H.useCallback(a,b)},b.useDebugValue=function(){},b.useId=function(){return c.H.useId()},b.useMemo=function(a,b){return c.H.useMemo(a,b)},b.version="19.2.0-canary-0bdb9206-20250818"},443:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function h(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function i(a){if(!a)return;let[[b,c],...d]=h(a),{domain:e,expires:f,httponly:g,maxage:i,path:l,samesite:m,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:l,...m&&{sameSite:j.includes(q=(q=m).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:k.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{RequestCookies:()=>l,ResponseCookies:()=>m,parseCookie:()=>h,parseSetCookie:()=>i,stringifyCookie:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var j=["strict","lax","none"],k=["low","medium","high"],l=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of h(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>g(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>g(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},m=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=i(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=g(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(g).join("; ")}}},449:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab="//",a.exports=g(226)})()},515:(a,b,c)=>{"use strict";c.d(b,{X:()=>function a(b){if((0,g.p)(b)||(0,f.C)(b)||(0,i.h)(b)||(0,h.I3)(b)||"object"==typeof b&&null!==b&&b.$$typeof===e||(0,d.Ts)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}});var d=c(770);let e=Symbol.for("react.postpone");var f=c(340),g=c(747),h=c(107),i=c(159)},521:a=>{"use strict";a.exports=require("node:async_hooks")},663:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{b.parse=function(b,c){if("string"!=typeof b)throw TypeError("argument str must be a string");for(var e={},f=b.split(d),g=(c||{}).decode||a,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},b.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i};var a=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=b})()},679:(a,b,c)=>{"use strict";let d,e,f,g,h,i;c.r(b),c.d(b,{default:()=>fV});var j,k,l,m={};async function n(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.r(m),c.d(m,{config:()=>fR,middleware:()=>fQ});let o=null;async function p(){if("phase-production-build"===process.env.NEXT_PHASE)return;o||(o=n());let a=await o;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}async function q(...a){let b=await n();try{var c;await (null==b||null==(c=b.onRequestError)?void 0:c.call(b,...a))}catch(a){console.error("Error in instrumentation.onRequestError:",a)}}let r=null;function s(){return r||(r=p()),r}function t(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(t(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(t(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(t(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}s();class u extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class v extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class w extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let x="_N_T_",y={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function z(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function A(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...z(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function B(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...y,GROUP:{builtinReact:[y.reactServerComponents,y.actionBrowser],serverOnly:[y.reactServerComponents,y.actionBrowser,y.instrument,y.middleware],neutralTarget:[y.apiNode,y.apiEdge],clientOnly:[y.serverSideRendering,y.appPagesBrowser],bundled:[y.reactServerComponents,y.actionBrowser,y.serverSideRendering,y.appPagesBrowser,y.shared,y.instrument,y.middleware],appPages:[y.reactServerComponents,y.serverSideRendering,y.appPagesBrowser,y.actionBrowser]}});let C=Symbol("response"),D=Symbol("passThrough"),E=Symbol("waitUntil");class F{constructor(a,b){this[D]=!1,this[E]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[C]||(this[C]=Promise.resolve(a))}passThroughOnException(){this[D]=!0}waitUntil(a){if("external"===this[E].kind)return(0,this[E].function)(a);this[E].promises.push(a)}}class G extends F{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new u({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new u({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function H(a){return a.replace(/\/$/,"")||"/"}function I(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}function J(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=I(a);return""+b+c+d+e}function K(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=I(a);return""+c+b+d+e}function L(a,b){if("string"!=typeof a)return!1;let{pathname:c}=I(a);return c===b||c.startsWith(b+"/")}let M=new WeakMap;function N(a,b){let c;if(!b)return{pathname:a};let d=M.get(b);d||(d=b.map(a=>a.toLowerCase()),M.set(b,d));let e=a.split("/",2);if(!e[1])return{pathname:a};let f=e[1].toLowerCase(),g=d.indexOf(f);return g<0?{pathname:a}:(c=b[g],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}let O=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function P(a,b){return new URL(String(a).replace(O,"localhost"),b&&String(b).replace(O,"localhost"))}let Q=Symbol("NextURLInternal");class R{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[Q]={url:P(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,d,e;let f=function(a,b){var c,d;let{basePath:e,i18n:f,trailingSlash:g}=null!=(c=b.nextConfig)?c:{},h={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):g};e&&L(h.pathname,e)&&(h.pathname=function(a,b){if(!L(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}(h.pathname,e),h.basePath=e);let i=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let a=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");h.buildId=a[0],i="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(h.pathname=i)}if(f){let a=b.i18nProvider?b.i18nProvider.analyze(h.pathname):N(h.pathname,f.locales);h.locale=a.detectedLocale,h.pathname=null!=(d=a.pathname)?d:h.pathname,!a.detectedLocale&&h.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(i):N(i,f.locales)).detectedLocale&&(h.locale=a.detectedLocale)}return h}(this[Q].url.pathname,{nextConfig:this[Q].options.nextConfig,parseData:!0,i18nProvider:this[Q].options.i18nProvider}),g=function(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}(this[Q].url,this[Q].options.headers);this[Q].domainLocale=this[Q].options.i18nProvider?this[Q].options.i18nProvider.detectDomainLocale(g):function(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}(null==(b=this[Q].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,g);let h=(null==(c=this[Q].domainLocale)?void 0:c.defaultLocale)||(null==(e=this[Q].options.nextConfig)||null==(d=e.i18n)?void 0:d.defaultLocale);this[Q].url.pathname=f.pathname,this[Q].defaultLocale=h,this[Q].basePath=f.basePath??"",this[Q].buildId=f.buildId,this[Q].locale=f.locale??h,this[Q].trailingSlash=f.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&(L(e,"/api")||L(e,"/"+b.toLowerCase()))?a:J(a,"/"+b)}((a={basePath:this[Q].basePath,buildId:this[Q].buildId,defaultLocale:this[Q].options.forceLocale?void 0:this[Q].defaultLocale,locale:this[Q].locale,pathname:this[Q].url.pathname,trailingSlash:this[Q].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=H(b)),a.buildId&&(b=K(J(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=J(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:K(b,"/"):H(b)}formatSearch(){return this[Q].url.search}get buildId(){return this[Q].buildId}set buildId(a){this[Q].buildId=a}get locale(){return this[Q].locale??""}set locale(a){var b,c;if(!this[Q].locale||!(null==(c=this[Q].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[Q].locale=a}get defaultLocale(){return this[Q].defaultLocale}get domainLocale(){return this[Q].domainLocale}get searchParams(){return this[Q].url.searchParams}get host(){return this[Q].url.host}set host(a){this[Q].url.host=a}get hostname(){return this[Q].url.hostname}set hostname(a){this[Q].url.hostname=a}get port(){return this[Q].url.port}set port(a){this[Q].url.port=a}get protocol(){return this[Q].url.protocol}set protocol(a){this[Q].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[Q].url=P(a),this.analyze()}get origin(){return this[Q].url.origin}get pathname(){return this[Q].url.pathname}set pathname(a){this[Q].url.pathname=a}get hash(){return this[Q].url.hash}set hash(a){this[Q].url.hash=a}get search(){return this[Q].url.search}set search(a){this[Q].url.search=a}get password(){return this[Q].url.password}set password(a){this[Q].url.password=a}get username(){return this[Q].url.username}set username(a){this[Q].url.username=a}get basePath(){return this[Q].basePath}set basePath(a){this[Q].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new R(String(this),this[Q].options)}}var S=c(443);let T=Symbol("internal request");class U extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);B(c),a instanceof Request?super(a,b):super(c,b);let d=new R(c,{headers:A(this.headers),nextConfig:b.nextConfig});this[T]={cookies:new S.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[T].cookies}get nextUrl(){return this[T].nextUrl}get page(){throw new v}get ua(){throw new w}get url(){return this[T].url}}class V{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}let W=Symbol("internal response"),X=new Set([301,302,303,307,308]);function Y(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class Z extends Response{constructor(a,b={}){super(a,b);let c=this.headers,d=new Proxy(new S.ResponseCookies(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof S.ResponseCookies&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,S.stringifyCookie)(a)).join(",")),Y(b,g),f};default:return V.get(a,d,e)}}});this[W]={cookies:d,url:b.url?new R(b.url,{headers:A(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[W].cookies}static json(a,b){let c=Response.json(a,b);return new Z(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!X.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",B(a)),new Z(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",B(a)),Y(b,c),new Z(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),Y(a,b),new Z(null,{...a,headers:b})}}function $(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}let _="next-router-prefetch",aa=["rsc","next-router-state-tree",_,"next-hmr-refresh","next-router-segment-prefetch"],ab="_rsc";class ac extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new ac}}class ad extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return V.get(b,c,d);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==f)return V.get(b,f,d)},set(b,c,d,e){if("symbol"==typeof c)return V.set(b,c,d,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);return V.set(b,g??c,d,e)},has(b,c){if("symbol"==typeof c)return V.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&V.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return V.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||V.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return ac.callable;default:return V.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new ad(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}var ae=c(379);class af extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new af}}class ag{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return af.callable;default:return V.get(a,b,c)}}})}}let ah=Symbol.for("next.mutated.cookies");class ai{static wrap(a,b){let c=new S.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,f=()=>{let a=ae.J.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new S.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},g=new Proxy(c,{get(a,b,c){switch(b){case ah:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),g}finally{f()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),g}finally{f()}};default:return V.get(a,b,c)}}});return g}}function aj(a){return"action"===a.phase}function ak(a,b){if(!aj(a))throw new af}var al=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(al||{}),am=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(am||{}),an=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(an||{}),ao=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(ao||{}),ap=function(a){return a.startServer="startServer.startServer",a}(ap||{}),aq=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(aq||{}),ar=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(ar||{}),as=function(a){return a.executeRoute="Router.executeRoute",a}(as||{}),at=function(a){return a.runHandler="Node.runHandler",a}(at||{}),au=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(au||{}),av=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(av||{}),aw=function(a){return a.execute="Middleware.execute",a}(aw||{});let ax=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],ay=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function az(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}let{context:aA,propagation:aB,trace:aC,SpanStatusCode:aD,SpanKind:aE,ROOT_CONTEXT:aF}=d=c(817);class aG extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let aH=(a,b)=>{(function(a){return"object"==typeof a&&null!==a&&a instanceof aG})(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:aD.ERROR,message:null==b?void 0:b.message})),a.end()},aI=new Map,aJ=d.createContextKey("next.rootSpanId"),aK=0,aL={set(a,b,c){a.push({key:b,value:c})}};class aM{getTracerInstance(){return aC.getTracer("next.js","0.0.1")}getContext(){return aA}getTracePropagationData(){let a=aA.active(),b=[];return aB.inject(a,b,aL),b}getActiveScopeSpan(){return aC.getSpan(null==aA?void 0:aA.active())}withPropagatedContext(a,b,c){let d=aA.active();if(aC.getSpanContext(d))return b();let e=aB.extract(d,a,c);return aA.with(e,b)}trace(...a){var b;let[c,d,e]=a,{fn:f,options:g}="function"==typeof d?{fn:d,options:{}}:{fn:e,options:{...d}},h=g.spanName??c;if(!ax.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||g.hideSpan)return f();let i=this.getSpanContext((null==g?void 0:g.parentSpan)??this.getActiveScopeSpan()),j=!1;i?(null==(b=aC.getSpanContext(i))?void 0:b.isRemote)&&(j=!0):(i=(null==aA?void 0:aA.active())??aF,j=!0);let k=aK++;return g.attributes={"next.span_name":h,"next.span_type":c,...g.attributes},aA.with(i.setValue(aJ,k),()=>this.getTracerInstance().startActiveSpan(h,g,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{aI.delete(k),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&ay.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};j&&aI.set(k,new Map(Object.entries(g.attributes??{})));try{if(f.length>1)return f(a,b=>aH(a,b));let b=f(a);if(az(b))return b.then(b=>(a.end(),b)).catch(b=>{throw aH(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw aH(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,e]=3===a.length?a:[a[0],{},a[1]];return ax.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof e&&(a=a.apply(this,arguments));let f=arguments.length-1,g=arguments[f];if("function"!=typeof g)return b.trace(c,a,()=>e.apply(this,arguments));{let d=b.getContext().bind(aA.active(),g);return b.trace(c,a,(a,b)=>(arguments[f]=function(a){return null==b||b(a),d.apply(this,arguments)},e.apply(this,arguments)))}}:e}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?aC.setSpan(aA.active(),a):void 0}getRootSpanAttributes(){let a=aA.active().getValue(aJ);return aI.get(a)}setRootSpanAttribute(a,b){let c=aA.active().getValue(aJ),d=aI.get(c);d&&d.set(a,b)}}let aN=(()=>{let a=new aM;return()=>a})(),aO="__prerender_bypass";Symbol("__next_preview_data"),Symbol(aO);class aP{constructor(a,b,c,d){var e;let f=a&&function(a,b){let c=ad.from(a.headers);return{isOnDemandRevalidate:c.get("x-prerender-revalidate")===b.previewModeId,revalidateOnlyGenerated:c.has("x-prerender-revalidate-if-generated")}}(b,a).isOnDemandRevalidate,g=null==(e=c.get(aO))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:aO,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:aO,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function aQ(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of z(c))d.append("set-cookie",a);for(let a of new S.ResponseCookies(d).getAll())b.set(a)}}var aR=c(128),aS=c(213),aT=c.n(aS),aU=c(809);class aV{constructor(a,b,c){this.prev=null,this.next=null,this.key=a,this.data=b,this.size=c}}class aW{constructor(){this.prev=null,this.next=null}}class aX{constructor(a,b){this.cache=new Map,this.totalSize=0,this.maxSize=a,this.calculateSize=b,this.head=new aW,this.tail=new aW,this.head.next=this.tail,this.tail.prev=this.head}addToHead(a){a.prev=this.head,a.next=this.head.next,this.head.next.prev=a,this.head.next=a}removeNode(a){a.prev.next=a.next,a.next.prev=a.prev}moveToHead(a){this.removeNode(a),this.addToHead(a)}removeTail(){let a=this.tail.prev;return this.removeNode(a),a}set(a,b){let c=(null==this.calculateSize?void 0:this.calculateSize.call(this,b))??1;if(c>this.maxSize)return void console.warn("Single item size exceeds maxSize");let d=this.cache.get(a);if(d)d.data=b,this.totalSize=this.totalSize-d.size+c,d.size=c,this.moveToHead(d);else{let d=new aV(a,b,c);this.cache.set(a,d),this.addToHead(d),this.totalSize+=c}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let a=this.removeTail();this.cache.delete(a.key),this.totalSize-=a.size}}has(a){return this.cache.has(a)}get(a){let b=this.cache.get(a);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let a=this.head.next;for(;a&&a!==this.tail;){let b=a;yield[b.key,b.data],a=a.next}}remove(a){let b=this.cache.get(a);b&&(this.removeNode(b),this.cache.delete(a),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}c(356).Buffer,new aX(0x3200000,a=>a.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let aY=Symbol.for("@next/cache-handlers-map"),aZ=Symbol.for("@next/cache-handlers-set"),a$=globalThis;function a_(){if(a$[aY])return a$[aY].entries()}async function a0(a,b){if(!a)return b();let c=a1(a);try{return await b()}finally{let b=function(a,b){let c=new Set(a.pendingRevalidatedTags),d=new Set(a.pendingRevalidateWrites);return{pendingRevalidatedTags:b.pendingRevalidatedTags.filter(a=>!c.has(a)),pendingRevalidates:Object.fromEntries(Object.entries(b.pendingRevalidates).filter(([b])=>!(b in a.pendingRevalidates))),pendingRevalidateWrites:b.pendingRevalidateWrites.filter(a=>!d.has(a))}}(c,a1(a));await a3(a,b)}}function a1(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function a2(a,b){if(0===a.length)return;let c=[];b&&c.push(b.revalidateTag(a));let d=function(){if(a$[aZ])return a$[aZ].values()}();if(d)for(let b of d)c.push(b.expireTags(...a));await Promise.all(c)}async function a3(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([a2(c,a.incrementalCache),...Object.values(d),...e])}let a4=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a5{disable(){throw a4}getStore(){}run(){throw a4}exit(){throw a4}enterWith(){throw a4}static bind(a){return a}}let a6="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage,a7=a6?new a6:new a5;class a8{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(aT()),this.callbackQueue.pause()}after(a){if(az(a))this.waitUntil||a9(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){var b;this.waitUntil||a9();let c=aR.FP.getStore();c&&this.workUnitStores.add(c);let d=a7.getStore(),e=d?d.rootTaskSpawnPhase:null==c?void 0:c.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let f=(b=async()=>{try{await a7.run({rootTaskSpawnPhase:e},()=>a())}catch(a){this.reportTaskError("function",a)}},a6?a6.bind(b):a5.bind(b));this.callbackQueue.add(f)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=ae.J.getStore();if(!a)throw Object.defineProperty(new aU.z("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return a0(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new aU.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function a9(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function ba(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}class bb{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function bc(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let bd=Symbol.for("@next/request-context");async function be(a,b,c){let d=[],e=c&&c.size>0;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${x}${b}`,d.push(b);if(b.pathname&&!e){let a=`${x}${b.pathname}`;d.push(a)}return{tags:d,expirationsByCacheKind:function(a){let b=new Map,c=a_();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,ba(async()=>e.getExpiration(...a)));return b}(d)}}class bf extends U{constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new u({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new u({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new u({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let bg={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},bh=(a,b)=>aN().withPropagatedContext(a.headers,b,bg),bi=!1;async function bj(a){var b;let d,e;if(!bi&&(bi=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(720);a(),bh=b(bh)}await s();let f=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=a.request.url.replace(/\.rsc($|\?)/,"$1");let g=a.bypassNextUrl?new URL(a.request.url):new R(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...g.searchParams.keys()]){let b=g.searchParams.getAll(a),c=function(a){for(let b of["nxtP","nxtI"])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}(a);if(c){for(let a of(g.searchParams.delete(c),b))g.searchParams.append(c,a);g.searchParams.delete(a)}}let h=process.env.__NEXT_BUILD_ID||"";"buildId"in g&&(h=g.buildId||"",g.buildId="");let i=function(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}(a.request.headers),j=i.has("x-nextjs-data"),k="1"===i.get("rsc");j&&"/index"===g.pathname&&(g.pathname="/");let l=new Map;if(!f)for(let a of aa){let b=i.get(a);null!==b&&(l.set(a,b),i.delete(a))}let m=g.searchParams.get(ab),n=new bf({page:a.page,input:(function(a){let b="string"==typeof a,c=b?new URL(a):a;return c.searchParams.delete(ab),b?c.toString():c})(g).toString(),init:{body:a.request.body,headers:i,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});j&&Object.defineProperty(n,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:bc()})}));let o=a.request.waitUntil??(null==(b=function(){let a=globalThis[bd];return null==a?void 0:a.get()}())?void 0:b.waitUntil),p=new G({request:n,page:a.page,context:o?{waitUntil:o}:void 0});if((d=await bh(n,()=>{if("/middleware"===a.page||"/src/middleware"===a.page){let b=p.waitUntil.bind(p),c=new bb;return aN().trace(aw.execute,{spanName:`middleware ${n.method} ${n.nextUrl.pathname}`,attributes:{"http.target":n.nextUrl.pathname,"http.method":n.method}},async()=>{try{var d,f,g,i,j,k;let l=bc(),m=await be("/",n.nextUrl,null),o=(j=n.nextUrl,k=a=>{e=a},function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){c&&c.setHeader("Set-Cookie",a)}let n={};return{type:"request",phase:a,implicitTags:f,url:{pathname:d.pathname,search:d.search??""},rootParams:e,get headers(){return n.headers||(n.headers=function(a){let b=ad.from(a);for(let a of aa)b.delete(a);return ad.seal(b)}(b.headers)),n.headers},get cookies(){if(!n.cookies){let a=new S.RequestCookies(ad.from(b.headers));aQ(b,a),n.cookies=ag.seal(a)}return n.cookies},set cookies(value){n.cookies=value},get mutableCookies(){if(!n.mutableCookies){let a=function(a,b){let c=new S.RequestCookies(ad.from(a));return ai.wrap(c,b)}(b.headers,g||(c?m:void 0));aQ(b,a),n.mutableCookies=a}return n.mutableCookies},get userspaceMutableCookies(){return n.userspaceMutableCookies||(n.userspaceMutableCookies=function(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return ak(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return ak(a,"cookies().set"),c.set(...d),b};default:return V.get(c,d,e)}}});return b}(this)),n.userspaceMutableCookies},get draftMode(){return n.draftMode||(n.draftMode=new aP(i,b,this.cookies,this.mutableCookies)),n.draftMode},renderResumeDataCache:h??null,isHmrRefresh:j,serverComponentsHmrCache:k||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",n,void 0,j,{},m,k,void 0,l,!1,void 0,null)),q=function({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e}){var f;let g=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,h=b.dev??!1,i=h||g&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),j={isStaticGeneration:g,page:a,route:(f=a.split("/").reduce((a,b,c,d)=>b?"("===b[0]&&b.endsWith(")")||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b:a,"")).startsWith("/")?f:"/"+f,incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isRevalidate:b.isRevalidate,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new a8({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.experimental.cacheComponents,dev:h,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=a_();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,ba(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:a6?a6.snapshot():function(a,...b){return a(...b)},shouldTrackFetchMetrics:i};return b.store=j,j}({page:"/",renderOpts:{cacheLifeProfiles:null==(f=a.request.nextConfig)||null==(d=f.experimental)?void 0:d.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(i=a.request.nextConfig)||null==(g=i.experimental)?void 0:g.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===n.headers.get(_),buildId:h??"",previouslyRevalidatedTags:[]});return await ae.J.run(q,()=>aR.FP.run(o,a.handler,n,p))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(n,p)}))&&!(d instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});d&&e&&d.headers.set("set-cookie",e);let q=null==d?void 0:d.headers.get("x-middleware-rewrite");if(d&&q&&(k||!f)){let b=new R(q,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});f||b.host!==n.nextUrl.host||(b.buildId=h||b.buildId,d.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:e}=$(b.toString(),g.toString());!f&&j&&d.headers.set("x-nextjs-rewrite",c),k&&e&&(g.pathname!==b.pathname&&d.headers.set("x-nextjs-rewritten-path",b.pathname),g.search!==b.search&&d.headers.set("x-nextjs-rewritten-query",b.search.slice(1)))}if(d&&q&&k&&m){let a=new URL(q);a.searchParams.has(ab)||(a.searchParams.set(ab,m),d.headers.set("x-middleware-rewrite",a.toString()))}let r=null==d?void 0:d.headers.get("Location");if(d&&r&&!f){let b=new R(r,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});d=new Response(d.body,d),b.host===g.host&&(b.buildId=h||b.buildId,d.headers.set("Location",b.toString())),j&&(d.headers.delete("Location"),d.headers.set("x-nextjs-redirect",$(b.toString(),g.toString()).url))}let t=d||Z.next(),u=t.headers.get("x-middleware-override-headers"),v=[];if(u){for(let[a,b]of l)t.headers.set(`x-middleware-request-${a}`,b),v.push(a);v.length>0&&t.headers.set("x-middleware-override-headers",u+","+v.join(","))}return{response:t,waitUntil:("internal"===p[E].kind?Promise.all(p[E].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:n.fetchMetrics}}c(449),"undefined"==typeof URLPattern||URLPattern;var bk=c(107),bl=c(979),bm=c(770);c(918);let{env:bn,stdout:bo}=(null==(j=globalThis)?void 0:j.process)??{},bp=bn&&!bn.NO_COLOR&&(bn.FORCE_COLOR||(null==bo?void 0:bo.isTTY)&&!bn.CI&&"dumb"!==bn.TERM),bq=(a,b,c,d)=>{let e=a.substring(0,d)+c,f=a.substring(d+b.length),g=f.indexOf(b);return~g?e+bq(f,b,c,g):e+f},br=(a,b,c=a)=>bp?d=>{let e=""+d,f=e.indexOf(b,a.length);return~f?a+bq(e,b,c,f)+b:a+e+b}:String,bs=br("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");br("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),br("\x1b[3m","\x1b[23m"),br("\x1b[4m","\x1b[24m"),br("\x1b[7m","\x1b[27m"),br("\x1b[8m","\x1b[28m"),br("\x1b[9m","\x1b[29m"),br("\x1b[30m","\x1b[39m");let bt=br("\x1b[31m","\x1b[39m"),bu=br("\x1b[32m","\x1b[39m"),bv=br("\x1b[33m","\x1b[39m");br("\x1b[34m","\x1b[39m");let bw=br("\x1b[35m","\x1b[39m");br("\x1b[38;2;173;127;168m","\x1b[39m"),br("\x1b[36m","\x1b[39m");let bx=br("\x1b[37m","\x1b[39m");br("\x1b[90m","\x1b[39m"),br("\x1b[40m","\x1b[49m"),br("\x1b[41m","\x1b[49m"),br("\x1b[42m","\x1b[49m"),br("\x1b[43m","\x1b[49m"),br("\x1b[44m","\x1b[49m"),br("\x1b[45m","\x1b[49m"),br("\x1b[46m","\x1b[49m"),br("\x1b[47m","\x1b[49m"),bx(bs("○")),bt(bs("⨯")),bv(bs("⚠")),bx(bs(" ")),bu(bs("✓")),bw(bs("\xbb")),new aX(1e4,a=>a.length),new WeakMap;var by=c(814);let bz={current:null},bA="function"==typeof by.cache?by.cache:a=>a,bB=console.warn;function bC(a){return function(...b){bB(a(...b))}}function bD(){let a="cookies",b=ae.J.getStore(),c=aR.FP.getStore();if(b){if(c&&"after"===c.phase&&!function(){let a=a7.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return bF(ag.seal(new S.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new bl.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,bD),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var d=b,e=c;let g=bE.get(e);if(g)return g;let h=(0,bm.W5)(e.renderSignal,d.route,"`cookies()`");return bE.set(e,h),h;case"prerender-client":let i="`cookies`";throw Object.defineProperty(new aU.z(`${i} must not be used within a client component. Next.js should be preventing ${i} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,bk.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,bk.xI)(a,b,c);case"prerender-runtime":return(0,bk.wi)(c,function(a){let b=bE.get(a);if(b)return b;let c=Promise.resolve(a);return bE.set(a,c),c}(c.cookies));case"private-cache":return bF(c.cookies);case"request":return(0,bk.Pk)(c),bF(aj(c)?c.userspaceMutableCookies:c.cookies)}}(0,aR.M1)(a)}bA(a=>{try{bB(bz.current)}finally{bz.current=null}});let bE=new WeakMap;function bF(a){let b=bE.get(a);if(b)return b;let c=Promise.resolve(a);return bE.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):bG.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):bH.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function bG(){return this.getAll().map(a=>[a.name,a]).values()}function bH(a){for(let a of this.getAll())this.delete(a.name);return a}bC(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}),new WeakMap,bC(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}),c(159),new WeakMap,bC(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});class bI extends Error{}class bJ extends bI{constructor({code:a,message:b}){super(b??"An error occured while interacting with the authorization server."),this.name="OAuth2Error",this.code=a}}class bK extends bI{constructor(a){super(a??"Discovery failed for the OpenID Connect configuration."),this.code="discovery_error",this.name="DiscoveryError"}}class bL extends bI{constructor(a){super(a??"The state parameter is missing."),this.code="missing_state",this.name="MissingStateError"}}class bM extends bI{constructor(a){super(a??"The state parameter is invalid."),this.code="invalid_state",this.name="InvalidStateError"}}class bN extends bI{constructor({cause:a,message:b}){super(b??"An error occured during the authorization flow."),this.code="authorization_error",this.cause=a,this.name="AuthorizationError"}}class bO extends bI{constructor(a){super(a??"An error occured while preparing or performing the authorization code grant request."),this.code="authorization_code_grant_request_error",this.name="AuthorizationCodeGrantRequestError"}}class bP extends bI{constructor({cause:a,message:b}){super(b??"An error occured while trying to exchange the authorization code."),this.code="authorization_code_grant_error",this.cause=a,this.name="AuthorizationCodeGrantError"}}class bQ extends bI{constructor(a){super(a??"An error occured while completing the backchannel logout request."),this.code="backchannel_logout_error",this.name="BackchannelLogoutError"}}!function(a){a.MISSING_SESSION="missing_session",a.MISSING_REFRESH_TOKEN="missing_refresh_token",a.FAILED_TO_REFRESH_TOKEN="failed_to_refresh_token"}(k||(k={}));class bR extends bI{constructor(a,b,c){super(b),this.name="AccessTokenError",this.code=a,this.cause=c}}!function(a){a.MISSING_SESSION="missing_session",a.MISSING_REFRESH_TOKEN="missing_refresh_token",a.FAILED_TO_EXCHANGE="failed_to_exchange_refresh_token"}(l||(l={}));class bS extends bI{constructor(a,b,c){super(b),this.name="AccessTokenForConnectionError",this.code=a,this.cause=c}}class bT extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class bU extends bT{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class bV extends bT{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class bW extends bT{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class bX extends bT{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class bY extends bT{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class bZ extends bT{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class b$ extends bT{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class b_ extends bT{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class b0 extends bT{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class b1 extends bT{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(a="no applicable key found in the JSON Web Key Set",b){super(a,b)}}class b2 extends bT{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class b3 extends bT{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(a="request timed out",b){super(a,b)}}class b4 extends bT{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}let b5=new TextEncoder,b6=new TextDecoder;function b7(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function b8(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function b9(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return b8(c,b,0),b8(c,a%0x100000000,4),c}function ca(a){let b=new Uint8Array(4);return b8(b,a),b}function cb(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(a);let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function cc(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:b6.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=b6.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return cb(b)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function cd(a){let b=a;return("string"==typeof b&&(b=b5.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}let ce=(a,b)=>{if(a.byteLength!==b.length)return!1;for(let c=0;c<a.byteLength;c++)if(a[c]!==b[c])return!1;return!0},cf=a=>{let b=a.data[a.pos++];if(128&b){let c=127&b,d=0;for(let b=0;b<c;b++)d=d<<8|a.data[a.pos++];return d}return b},cg=(a,b,c)=>{if(a.data[a.pos++]!==b)throw Error(c)},ch=(a,b)=>{let c=a.data.subarray(a.pos,a.pos+b);return a.pos+=b,c},ci=async(a,b,c,d)=>{let e,f,g="spki"===a,h=()=>g?["verify"]:["sign"];switch(c){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${c.slice(-3)}`},f=h();break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${c.slice(-3)}`},f=h();break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(c.slice(-3),10)||1}`},f=g?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":case"ES384":case"ES512":e={name:"ECDSA",namedCurve:({ES256:"P-256",ES384:"P-384",ES512:"P-521"})[c]},f=h();break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":try{let a=d.getNamedCurve(b);e="X25519"===a?{name:"X25519"}:{name:"ECDH",namedCurve:a}}catch(a){throw new bX("Invalid or unsupported key format")}f=g?[]:["deriveBits"];break;case"Ed25519":case"EdDSA":e={name:"Ed25519"},f=h();break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":e={name:c},f=h();break;default:throw new bX('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(a,b,e,d?.extractable??!!g,f)},cj=async a=>{if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new bX('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new bX('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new bX('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new bX('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new bX('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)},ck=a=>{if(!function(a){return"object"==typeof a&&null!==a}(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b};async function cl(a,b,c){let d;if("string"!=typeof a||0!==a.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');let e=(d=/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,cb(a.replace(d,""))),f=c;return b?.startsWith?.("ECDH-ES")&&((f||={}).getNamedCurve=a=>{let b={data:a,pos:0};return!function(a){cg(a,48,"Invalid PKCS#8 structure"),cf(a),cg(a,2,"Expected version field");let b=cf(a);a.pos+=b,cg(a,48,"Expected algorithm identifier"),cf(a),a.pos}(b),(a=>{let b=(a=>{cg(a,6,"Expected algorithm OID");let b=cf(a);return ch(a,b)})(a);if(ce(b,[43,101,110]))return"X25519";if(!ce(b,[42,134,72,206,61,2,1]))throw Error("Unsupported key algorithm");cg(a,6,"Expected curve OID");let c=cf(a),d=ch(a,c);for(let{name:a,oid:b}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(ce(d,b))return a;throw Error("Unsupported named curve")})(b)}),ci("pkcs8",e,b,f)}async function cm(a,b,c){let d;if(!ck(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return cc(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new bX('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return cj({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return cj({...a,ext:d});case"EC":case"OKP":return cj({...a,alg:b,ext:d});default:throw new bX('Unsupported "kty" (Key Type) Parameter value')}}function cn(a){return ck(a)}class co{#a;#b=new WeakMap;constructor(a){if(!function(a){return a&&"object"==typeof a&&Array.isArray(a.keys)&&a.keys.every(cn)}(a))throw new b0("JSON Web Key Set malformed");this.#a=structuredClone(a)}jwks(){return this.#a}async getKey(a,b){let{alg:c,kid:d}={...a,...b?.header},e=function(a){switch("string"==typeof a&&a.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new bX('Unsupported "alg" value for a JSON Web Key Set')}}(c),f=this.#a.keys.filter(a=>{let b=e===a.kty;if(b&&"string"==typeof d&&(b=d===a.kid),b&&("string"==typeof a.alg||"AKP"===e)&&(b=c===a.alg),b&&"string"==typeof a.use&&(b="sig"===a.use),b&&Array.isArray(a.key_ops)&&(b=a.key_ops.includes("verify")),b)switch(c){case"ES256":b="P-256"===a.crv;break;case"ES384":b="P-384"===a.crv;break;case"ES512":b="P-521"===a.crv;break;case"Ed25519":case"EdDSA":b="Ed25519"===a.crv}return b}),{0:g,length:h}=f;if(0===h)throw new b1;if(1!==h){let a=new b2,b=this.#b;throw a[Symbol.asyncIterator]=async function*(){for(let a of f)try{yield await cp(b,a,c)}catch{}},a}return cp(this.#b,g,c)}}async function cp(a,b,c){let d=a.get(b)||a.set(b,{}).get(b);if(void 0===d[c]){let a=await cm({...b,ext:!0},c);if(a instanceof Uint8Array||"public"!==a.type)throw new b0("JSON Web Key Set members must be public keys");d[c]=a}return d[c]}function cq(a){let b=new co(a),c=async(a,c)=>b.getKey(a,c);return Object.defineProperties(c,{jwks:{value:()=>structuredClone(b.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(e="jose/v6.1.0");let cr=Symbol();async function cs(a,b,c,d=fetch){let e=await d(a,{method:"GET",signal:c,redirect:"manual",headers:b}).catch(a=>{if("TimeoutError"===a.name)throw new b3;throw a});if(200!==e.status)throw new bT("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await e.json()}catch{throw new bT("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let ct=Symbol();class cu{#c;#d;#e;#f;#g;#h;#i;#j;#k;#l;constructor(a,b){if(!(a instanceof URL))throw TypeError("url must be an instance of URL");this.#c=new URL(a.href),this.#d="number"==typeof b?.timeoutDuration?b?.timeoutDuration:5e3,this.#e="number"==typeof b?.cooldownDuration?b?.cooldownDuration:3e4,this.#f="number"==typeof b?.cacheMaxAge?b?.cacheMaxAge:6e5,this.#i=new Headers(b?.headers),e&&!this.#i.has("User-Agent")&&this.#i.set("User-Agent",e),this.#i.has("accept")||(this.#i.set("accept","application/json"),this.#i.append("accept","application/jwk-set+json")),this.#j=b?.[cr],b?.[ct]!==void 0&&(this.#l=b?.[ct],function(a,b){return!("object"!=typeof a||null===a||!("uat"in a)||"number"!=typeof a.uat||Date.now()-a.uat>=b)&&"jwks"in a&&!!ck(a.jwks)&&!!Array.isArray(a.jwks.keys)&&!!Array.prototype.every.call(a.jwks.keys,ck)}(b?.[ct],this.#f)&&(this.#g=this.#l.uat,this.#k=cq(this.#l.jwks)))}pendingFetch(){return!!this.#h}coolingDown(){return"number"==typeof this.#g&&Date.now()<this.#g+this.#e}fresh(){return"number"==typeof this.#g&&Date.now()<this.#g+this.#f}jwks(){return this.#k?.jwks()}async getKey(a,b){this.#k&&this.fresh()||await this.reload();try{return await this.#k(a,b)}catch(c){if(c instanceof b1&&!1===this.coolingDown())return await this.reload(),this.#k(a,b);throw c}}async reload(){this.#h&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent)&&(this.#h=void 0),this.#h||=cs(this.#c.href,this.#i,AbortSignal.timeout(this.#d),this.#j).then(a=>{this.#k=cq(a),this.#l&&(this.#l.uat=Date.now(),this.#l.jwks=a),this.#g=Date.now(),this.#h=void 0}).catch(a=>{throw this.#h=void 0,a}),await this.#h}}let cv=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}};function cw(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function cx(a,b){return a.name===b}function cy(a){return parseInt(a.name.slice(4),10)}function cz(a,b){if(b&&!a.usages.includes(b))throw TypeError(`CryptoKey does not support this operation, its usages must include ${b}.`)}function cA(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!cx(a.algorithm,"AES-GCM"))throw cw("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cw(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!cx(a.algorithm,"AES-KW"))throw cw("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cw(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw cw("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!cx(a.algorithm,"PBKDF2"))throw cw("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!cx(a.algorithm,"RSA-OAEP"))throw cw("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(cy(a.algorithm.hash)!==c)throw cw(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}cz(a,c)}function cB(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let cC=(a,...b)=>cB("Key must be ",a,...b);function cD(a,b,...c){return cB(`Key for the ${a} algorithm must be `,b,...c)}let cE=async(a,b,c)=>{if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError(cC(b,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",b,{hash:`SHA-${a.slice(-3)}`,name:"HMAC"},!1,[c])}return!function(a,b,c){switch(b){case"HS256":case"HS384":case"HS512":{if(!cx(a.algorithm,"HMAC"))throw cw("HMAC");let c=parseInt(b.slice(2),10);if(cy(a.algorithm.hash)!==c)throw cw(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!cx(a.algorithm,"RSASSA-PKCS1-v1_5"))throw cw("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(cy(a.algorithm.hash)!==c)throw cw(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!cx(a.algorithm,"RSA-PSS"))throw cw("RSA-PSS");let c=parseInt(b.slice(2),10);if(cy(a.algorithm.hash)!==c)throw cw(`SHA-${c}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!cx(a.algorithm,"Ed25519"))throw cw("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!cx(a.algorithm,b))throw cw(b);break;case"ES256":case"ES384":case"ES512":{if(!cx(a.algorithm,"ECDSA"))throw cw("ECDSA");let c=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b);if(a.algorithm.namedCurve!==c)throw cw(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}cz(a,c)}(b,a,c),b},cF=async(a,b,c,d)=>{let e=await cE(a,b,"verify");cv(a,e);let f=((a,b)=>{let c=`SHA-${a.slice(-3)}`;switch(a){case"HS256":case"HS384":case"HS512":return{hash:c,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:c,name:"RSA-PSS",saltLength:parseInt(a.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:c,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:c,name:"ECDSA",namedCurve:b.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:a};default:throw new bX(`alg ${a} is not supported either by JOSE or your javascript runtime`)}})(a,e.algorithm);try{return await crypto.subtle.verify(f,e,c,d)}catch{return!1}},cG=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0};function cH(a){if(!cI(a))throw Error("CryptoKey instance expected")}function cI(a){return a?.[Symbol.toStringTag]==="CryptoKey"}function cJ(a){return a?.[Symbol.toStringTag]==="KeyObject"}let cK=a=>cI(a)||cJ(a);function cL(a){return ck(a)&&"string"==typeof a.kty}let cM=a=>a?.[Symbol.toStringTag],cN=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0},cO=(a,b,c)=>{a.startsWith("HS")||"dir"===a||a.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(a)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(a)?((a,b,c)=>{if(!(b instanceof Uint8Array)){if(cL(b)){if(function(a){return"oct"===a.kty&&"string"==typeof a.k}(b)&&cN(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!cK(b))throw TypeError(cD(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${cM(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c):((a,b,c)=>{if(cL(b))switch(c){case"decrypt":case"sign":if(function(a){return"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d)}(b)&&cN(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(a){return"oct"!==a.kty&&void 0===a.d&&void 0===a.priv}(b)&&cN(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!cK(b))throw TypeError(cD(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${cM(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${cM(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${cM(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${cM(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${cM(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)},cP=(a,b,c,d,e)=>{let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new bX(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)},cQ=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)},cR=async(a,b,c,d=!1)=>{let e=(f||=new WeakMap).get(a);if(e?.[c])return e[c];let g=await cj({...b,alg:c});return d&&Object.freeze(a),e?e[c]=g:f.set(a,{[c]:g}),g},cS=async(a,b)=>{if(a instanceof Uint8Array||cI(a))return a;if(cJ(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,b)=>{let c,d=(f||=new WeakMap).get(a);if(d?.[b])return d[b];let e="public"===a.type,g=!!e;if("x25519"===a.asymmetricKeyType){switch(b){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}c=a.toCryptoKey(a.asymmetricKeyType,g,e?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==b&&"Ed25519"!==b)throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[e?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(b!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[e?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let d;switch(b){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(b.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:d},g,e?["encrypt"]:["decrypt"]);c=a.toCryptoKey({name:b.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},g,[e?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===b&&"P-256"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[e?"verify":"sign"])),"ES384"===b&&"P-384"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[e?"verify":"sign"])),"ES512"===b&&"P-521"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[e?"verify":"sign"])),b.startsWith("ECDH-ES")&&(c=a.toCryptoKey({name:"ECDH",namedCurve:d},g,e?[]:["deriveBits"]))}if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");return d?d[b]=c:f.set(a,{[b]:c}),c})(a,b)}catch(a){if(a instanceof TypeError)throw a}let c=a.export({format:"jwk"});return cR(a,c,b)}if(cL(a))return a.k?cc(a.k):cR(a,a,b,!0);throw Error("unreachable")};async function cT(a,b,c){let d,e;if(!ck(a))throw new b$("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new b$('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new b$("JWS Protected Header incorrect type");if(void 0===a.payload)throw new b$("JWS Payload missing");if("string"!=typeof a.signature)throw new b$("JWS Signature missing or incorrect type");if(void 0!==a.header&&!ck(a.header))throw new b$("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=cc(a.protected);f=JSON.parse(b6.decode(b))}catch{throw new b$("JWS Protected Header is invalid")}if(!cG(f,a.header))throw new b$("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=cP(b$,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new b$('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new b$('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&cQ("algorithms",c.algorithms);if(k&&!k.has(j))throw new bW('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new b$("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new b$("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b&&(b=await b(f,a),l=!0),cO(j,b,"verify");let m=b7(b5.encode(a.protected??""),b5.encode("."),"string"==typeof a.payload?b5.encode(a.payload):a.payload);try{d=cc(a.signature)}catch{throw new b$("Failed to base64url decode the signature")}let n=await cS(b,j);if(!await cF(j,n,d,m))throw new b4;if(i)try{e=cc(a.payload)}catch{throw new b$("Failed to base64url decode the payload")}else e="string"==typeof a.payload?b5.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:n}:o}async function cU(a,b,c){if(a instanceof Uint8Array&&(a=b6.decode(a)),"string"!=typeof a)throw new b$("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new b$("Invalid Compact JWS");let h=await cT({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}let cV=a=>Math.floor(a.getTime()/1e3),cW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,cX=a=>{let b,c=cW.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function cY(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let cZ=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;function c$(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(b6.decode(b))}catch{}if(!ck(f))throw new b_("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||cZ(a.typ)!==cZ(h)))throw new bU('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new bU(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new bU('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new bU('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new bU('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=cX(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=cV(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new bU('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new bU('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new bU('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new bU('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new bV('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:cX(m)))throw new bV('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new bU('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}class c_{#m;constructor(a){if(!ck(a))throw TypeError("JWT Claims Set MUST be an object");this.#m=structuredClone(a)}data(){return b5.encode(JSON.stringify(this.#m))}get iss(){return this.#m.iss}set iss(a){this.#m.iss=a}get sub(){return this.#m.sub}set sub(a){this.#m.sub=a}get aud(){return this.#m.aud}set aud(a){this.#m.aud=a}set jti(a){this.#m.jti=a}set nbf(a){"number"==typeof a?this.#m.nbf=cY("setNotBefore",a):a instanceof Date?this.#m.nbf=cY("setNotBefore",cV(a)):this.#m.nbf=cV(new Date)+cX(a)}set exp(a){"number"==typeof a?this.#m.exp=cY("setExpirationTime",a):a instanceof Date?this.#m.exp=cY("setExpirationTime",cV(a)):this.#m.exp=cV(new Date)+cX(a)}set iat(a){void 0===a?this.#m.iat=cV(new Date):a instanceof Date?this.#m.iat=cY("setIssuedAt",cV(a)):"string"==typeof a?this.#m.iat=cY("setIssuedAt",cV(new Date)+cX(a)):this.#m.iat=cY("setIssuedAt",a)}}async function c0(a,b,c){let d=await cU(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new b_("JWTs MUST NOT use unencoded payload");let e={payload:c$(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}function c1(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(g="oauth4webapi/v3.8.1");let c2="ERR_INVALID_ARG_VALUE",c3="ERR_INVALID_ARG_TYPE";function c4(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let c5=Symbol(),c6=Symbol(),c7=Symbol(),c8=Symbol(),c9=(Symbol(),Symbol());Symbol();let da=new TextEncoder,db=new TextDecoder;function dc(a){return"string"==typeof a?da.encode(a):db.decode(a)}function dd(a){return"string"==typeof a?i(a):h(a)}h=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},i=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw c4("The input to be decoded is not correctly encoded.",c2,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw c4("The input to be decoded is not correctly encoded.",c2,a)}};class de extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=eb,Error.captureStackTrace?.(this,this.constructor)}}class df extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function dg(a,b,c){return new df(a,{code:b,cause:c})}function dh(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function di(a){c1(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(g&&!b.has("user-agent")&&b.set("user-agent",g),b.has("authorization"))throw c4('"options.headers" must not include the "authorization" header name',c2);return b}function dj(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw c4('"options.signal" must return or be an instance of AbortSignal',c3);return b}}function dk(a){return a.includes("//")?a.replace("//","/"):a}async function dl(a,b,c,d){if(!(a instanceof URL))throw c4(`"${b}" must be an instance of URL`,c3);dB(a,d?.[c5]!==!0);let e=c(new URL(a.href)),f=di(d?.headers);return f.set("accept","application/json"),(d?.[c8]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:dj(e,d?.signal)})}async function dm(a,b){return dl(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=dk(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=dk(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw c4('"options.algorithm" must be "oidc" (default), or "oauth2"',c2)}return a},b)}function dn(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw c4(`${c} must be a number`,c3,e);if(a>0)return;if(b){if(0!==a)throw c4(`${c} must be a non-negative number`,c2,e);return}throw c4(`${c} must be a positive number`,c2,e)}catch(a){if(d)throw dg(a.message,d,e);throw a}}function dp(a,b,c,d){try{if("string"!=typeof a)throw c4(`${b} must be a string`,c3,d);if(0===a.length)throw c4(`${b} must not be empty`,c2,d)}catch(a){if(c)throw dg(a.message,c,d);throw a}}async function dq(a,b){if(!(a instanceof URL)&&a!==ey)throw c4('"expectedIssuerIdentifier" must be an instance of URL',c3);if(!c1(b,Response))throw c4('"response" must be an instance of Response',c3);if(200!==b.status)throw dg('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',eg,b);eq(b);let c=await ex(b);if(dp(c.issuer,'"response" body "issuer" property',ee,{body:c}),a!==ey&&new URL(c.issuer).href!==a.href)throw dg('"response" body "issuer" property does not match the expected value',el,{expected:a.href,body:c,attribute:"issuer"});return c}function dr(a){var b,c=a,d="application/json";if(b=c,b.headers.get("content-type")?.split(";")[0]!==d)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return dg(c,ef,a)}(c,d)}function ds(){return dd(crypto.getRandomValues(new Uint8Array(32)))}async function dt(a){return dp(a,"codeVerifier"),dd(await crypto.subtle.digest("SHA-256",dc(a)))}function du(a){let b=a?.[c6];return"number"==typeof b&&Number.isFinite(b)?b:0}function dv(a){let b=a?.[c7];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function dw(){return Math.floor(Date.now()/1e3)}function dx(a){if("object"!=typeof a||null===a)throw c4('"as" must be an object',c3);dp(a.issuer,'"as.issuer"')}function dy(a){if("object"!=typeof a||null===a)throw c4('"client" must be an object',c3);dp(a.client_id,'"client.client_id"')}async function dz(a,b,c){if(!c.usages.includes("sign"))throw c4('CryptoKey instances used for signing assertions must include "sign" in their "usages"',c2);let d=`${dd(dc(JSON.stringify(a)))}.${dd(dc(JSON.stringify(b)))}`,e=dd(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new de("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(er(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new de("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return er(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new de("unsupported CryptoKey algorithm name",{cause:a})}(c),c,dc(d)));return`${d}.${e}`}let dA=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function dB(a,b){if(b&&"https:"!==a.protocol)throw dg("only requests to HTTPS are allowed",eh,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw dg("only HTTP and HTTPS requests are allowed",ei,a)}function dC(a,b,c,d){let e;if("string"!=typeof a||!(e=dA(a)))throw dg(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?em:en,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return dB(e,d),e}function dD(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?dC(a.mtls_endpoint_aliases[b],b,c,d):dC(a[b],b,c,d)}async function dE(a,b,c,d,e){dx(a),dy(b);let f=dD(a,"pushed_authorization_request_endpoint",b.use_mtls_endpoint_aliases,e?.[c5]!==!0),g=new URLSearchParams(d);g.set("client_id",b.client_id);let h=di(e?.headers);h.set("accept","application/json"),e?.DPoP!==void 0&&(dQ(e.DPoP),await e.DPoP.addProof(f,h,"POST"));let i=await dR(a,b,c,f,g,h,e);return e?.DPoP?.cacheNonce(i),i}class dF extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ea,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class dG extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=ec,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class dH extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=d9,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let dI="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",dJ=RegExp("^[,\\s]*("+dI+")\\s(.*)"),dK=RegExp("^[,\\s]*("+dI+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),dL=RegExp("^[,\\s]*"+("("+dI+")\\s*=\\s*(")+dI+")[,\\s]*(.*)"),dM=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function dN(a,b,c){if(dx(a),dy(b),!c1(c,Response))throw c4('"response" must be an instance of Response',c3);await dP(c,201,"Pushed Authorization Request Endpoint"),eq(c);let d=await ex(c);dp(d.request_uri,'"response" body "request_uri" property',ee,{body:d});let e="number"!=typeof d.expires_in?parseFloat(d.expires_in):d.expires_in;return dn(e,!0,'"response" body "expires_in" property',ee,{body:d}),d.expires_in=e,d}async function dO(a){if(a.status>399&&a.status<500){eq(a),dr(a);try{let b=await a.clone().json();if(dh(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function dP(a,b,c){if(a.status!==b){let b;if(function(a){let b;if(b=function(a){if(!c1(a,Response))throw c4('"response" must be an instance of Response',c3);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(dJ),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(dK)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(dL)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(dM)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new dH("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}(a),b=await dO(a))throw await a.body?.cancel(),new dF("server responded with an error in the response body",{cause:b,response:a});throw dg(`"response" is not a conform ${c} response (unexpected HTTP status code)`,eg,a)}}function dQ(a){if(!d_.has(a))throw c4('"options.DPoP" is not a valid DPoPHandle',c2)}async function dR(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[c8]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:dj(d,g?.signal)})}async function dS(a,b,c,d,e,f){let g=dD(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[c5]!==!0);e.set("grant_type",d);let h=di(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(dQ(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await dR(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i),i}async function dT(a,b,c,d,e){dx(a),dy(b),dp(d,'"refreshToken"');let f=new URLSearchParams(e?.additionalParameters);return f.set("refresh_token",d),dS(a,b,c,"refresh_token",f,e)}Symbol();let dU=new WeakMap,dV=new WeakMap;function dW(a){if(!a.id_token)return;let b=dU.get(a);if(!b)throw c4('"ref" was already garbage collected or did not resolve from the proper sources',c2);return b}async function dX(a,b,c,d,e,f){if(dx(a),dy(b),!c1(c,Response))throw c4('"response" must be an instance of Response',c3);await dP(c,200,"Token Endpoint"),eq(c);let g=await ex(c);if(dp(g.access_token,'"response" body "access_token" property',ee,{body:g}),dp(g.token_type,'"response" body "token_type" property',ee,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;dn(a,!0,'"response" body "expires_in" property',ee,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&dp(g.refresh_token,'"response" body "refresh_token" property',ee,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw dg('"response" body "scope" property must be a string',ee,{body:g});if(void 0!==g.id_token){dp(g.id_token,'"response" body "id_token" property',ee,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(dn(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await es(g.id_token,et.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),du(b),dv(b),e).then(d3.bind(void 0,f)).then(d$.bind(void 0,a)).then(dZ.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw dg('ID Token "aud" (audience) claim includes additional untrusted audiences',ek,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw dg('unexpected ID Token "azp" (authorized party) claim value',ek,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&dn(h.auth_time,!0,'ID Token "auth_time" (authentication time)',ee,{claims:h}),dV.set(c,i),dU.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new de("unsupported `token_type` value",{cause:{body:g}});return g}async function dY(a,b,c,d){return dX(a,b,c,void 0,d?.[c9],d?.recognizedTokenTypes)}function dZ(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw dg('unexpected JWT "aud" (audience) claim value',ek,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw dg('unexpected JWT "aud" (audience) claim value',ek,{expected:a,claims:b.claims,claim:"aud"});return b}function d$(a,b){let c=a[ez]?.(b)??a.issuer;if(b.claims.iss!==c)throw dg('unexpected JWT "iss" (issuer) claim value',ek,{expected:c,claims:b.claims,claim:"iss"});return b}let d_=new WeakSet,d0=Symbol();async function d1(a,b,c,d,e,f,g){if(dx(a),dy(b),!d_.has(d))throw c4('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',c2);dp(e,'"redirectUri"');let h=eu(d,"code");if(!h)throw dg('no authorization code in "callbackParameters"',ee);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==d0&&(dp(f,'"codeVerifier"'),i.set("code_verifier",f)),dS(a,b,c,"authorization_code",i,g)}let d2={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function d3(a,b){for(let c of a)if(void 0===b.claims[c])throw dg(`JWT "${c}" (${d2[c]}) claim missing`,ee,{claims:b.claims});return b}let d4=Symbol(),d5=Symbol();async function d6(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?d7(a,b,c,d.expectedNonce,d.maxAge,d[c9],d.recognizedTokenTypes):d8(a,b,c,d?.[c9],d?.recognizedTokenTypes)}async function d7(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=d4;break;case d4:break;default:dp(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=d5;break;case d5:break;default:dn(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await dX(a,b,c,h,f,g);dp(i.id_token,'"response" body "id_token" property',ee,{body:i});let j=dW(i);if(e!==d5){let a=dw()+du(b),c=dv(b);if(j.auth_time+e<a-c)throw dg("too much time has elapsed since the last End-User authentication",ej,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===d4){if(void 0!==j.nonce)throw dg('unexpected ID Token "nonce" claim value',ek,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw dg('unexpected ID Token "nonce" claim value',ek,{expected:d,claims:j,claim:"nonce"});return i}async function d8(a,b,c,d,e){let f=await dX(a,b,c,void 0,d,e),g=dW(f);if(g){if(void 0!==b.default_max_age){dn(b.default_max_age,!0,'"client.default_max_age"');let a=dw()+du(b),c=dv(b);if(g.auth_time+b.default_max_age<a-c)throw dg("too much time has elapsed since the last End-User authentication",ej,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw dg('unexpected ID Token "nonce" claim value',ek,{expected:void 0,claims:g,claim:"nonce"})}return f}let d9="OAUTH_WWW_AUTHENTICATE_CHALLENGE",ea="OAUTH_RESPONSE_BODY_ERROR",eb="OAUTH_UNSUPPORTED_OPERATION",ec="OAUTH_AUTHORIZATION_RESPONSE_ERROR",ed="OAUTH_PARSE_ERROR",ee="OAUTH_INVALID_RESPONSE",ef="OAUTH_RESPONSE_IS_NOT_JSON",eg="OAUTH_RESPONSE_IS_NOT_CONFORM",eh="OAUTH_HTTP_REQUEST_FORBIDDEN",ei="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",ej="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",ek="OAUTH_JWT_CLAIM_COMPARISON_FAILED",el="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",em="OAUTH_MISSING_SERVER_METADATA",en="OAUTH_INVALID_SERVER_METADATA";async function eo(a,b,c,d,e,f){return dx(a),dy(b),dp(d,'"grantType"'),dS(a,b,c,d,new URLSearchParams(e),f)}async function ep(a,b,c,d){return dX(a,b,c,void 0,d?.[c9],d?.recognizedTokenTypes)}function eq(a){if(a.bodyUsed)throw c4('"response" body has been used already',c2)}function er(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new de(`unsupported ${b.name} modulusLength`,{cause:a})}async function es(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new de("JWE decryption is not configured",{cause:a});if(3!==j)throw dg("Invalid JWT",ee,a);try{f=JSON.parse(dc(dd(h)))}catch(a){throw dg("failed to parse JWT Header body as base64url encoded JSON",ed,a)}if(!dh(f))throw dg("JWT Header must be a top level object",ee,a);if(b(f),void 0!==f.crit)throw new de('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(dc(dd(i)))}catch(a){throw dg("failed to parse JWT Payload body as base64url encoded JSON",ed,a)}if(!dh(g))throw dg("JWT Payload must be a top level object",ee,a);let k=dw()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw dg('unexpected JWT "exp" (expiration time) claim type',ee,{claims:g});if(g.exp<=k-d)throw dg('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',ej,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw dg('unexpected JWT "iat" (issued at) claim type',ee,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw dg('unexpected JWT "iss" (issuer) claim type',ee,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw dg('unexpected JWT "nbf" (not before) claim type',ee,{claims:g});if(g.nbf>k+d)throw dg('unexpected JWT "nbf" (not before) claim value',ej,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw dg('unexpected JWT "aud" (audience) claim type',ee,{claims:g});return{header:f,claims:g,jwt:a}}function et(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw dg('unexpected JWT "alg" header parameter',ee,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw dg('unexpected JWT "alg" header parameter',ee,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw dg('unexpected JWT "alg" header parameter',ee,{header:d,expected:c,reason:"default value"});return}throw dg('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function eu(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw dg(`"${b}" parameter must be provided only once`,ee);return c}let ev=Symbol(),ew=Symbol();async function ex(a,b=dr){let c;try{c=await a.json()}catch(c){throw b(a),dg('failed to parse "response" body as JSON',ed,c)}if(!dh(c))throw dg('"response" body must be a top level object',ee,{body:c});return c}let ey=Symbol(),ez=Symbol(),eA={rE:"4.9.0"};function eB(a){return a&&!a.endsWith("/")?`${a}/`:a}function eC(a){return a&&a.startsWith("/")?a.substring(1,a.length):a}function eD(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function eE(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}var eF=["strict","lax","none"],eG=["low","medium","high"],eH=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of eE(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>eD(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>eD(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},eI=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=function(a){if(!a)return;let[[b,c],...d]=eE(a),{domain:e,expires:f,httponly:g,maxage:h,path:i,samesite:j,secure:k,partitioned:l,priority:m}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var n,o,p={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof h&&{maxAge:Number(h)},path:i,...j&&{sameSite:(n=(n=j).toLowerCase(),eF.includes(n)?n:void 0)},...k&&{secure:!0},...m&&{priority:(o=(o=m).toLowerCase(),eG.includes(o)?o:void 0)},...l&&{partitioned:!0}};let a={};for(let b in p)p[b]&&(a[b]=p[b]);return a}}(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=eD(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(eD).join("; ")}};let eJ=async(a,b,c,d,e)=>{let{crypto:{subtle:f}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")})();return new Uint8Array(await f.deriveBits({name:"HKDF",hash:`SHA-${a.substr(3)}`,salt:c,info:d},await f.importKey("raw",b,"HKDF",!1,["deriveBits"]),e<<3))};function eK(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function eL(a,b,c,d,e){return eJ(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=eK(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),eK(c,"salt"),function(a){let b=eK(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}let eM=Symbol();function eN(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new bX(`Unsupported JWE Algorithm: ${a}`)}}let eO=(a,b)=>{if(b.length<<3!==eN(a))throw new bZ("Invalid Initialization Vector length")},eP=(a,b)=>{let c=a.byteLength<<3;if(c!==b)throw new bZ(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)};async function eQ(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(cC(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=b7(e,d,i,b9(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function eR(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(cA(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}let eS=async(a,b,c,d,e)=>{if(!cI(c)&&!(c instanceof Uint8Array))throw TypeError(cC(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(d)eO(a,d);else d=crypto.getRandomValues(new Uint8Array(eN(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&eP(c,parseInt(a.slice(-3),10)),eQ(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&eP(c,parseInt(a.slice(1,4),10)),eR(a,b,c,d,e);default:throw new bX("Unsupported JWE Content Encryption Algorithm")}};function eT(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function eU(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(cA(a,b,c),a)}async function eV(a,b,c){let d=await eU(b,a,"wrapKey");eT(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function eW(a,b,c){let d=await eU(b,a,"unwrapKey");eT(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}let eX=async(a,b)=>{let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))};function eY(a){return b7(ca(a.length),a)}async function eZ(a,b,c){let d=b>>3,e=Math.ceil(d/32),f=new Uint8Array(32*e);for(let b=1;b<=e;b++){let d=new Uint8Array(4+a.length+c.length);d.set(ca(b),0),d.set(a,4),d.set(c,4+a.length);let e=await eX("sha256",d);f.set(e,(b-1)*32)}return f.slice(0,d)}async function e$(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){var g;cA(a,"ECDH"),cA(b,"ECDH","deriveBits");let h=eY(b5.encode(c)),i=eY(e),j=eY(f),k=b7(h,i,j,ca(d),new Uint8Array(0));return eZ(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(g=a).algorithm.name?256:Math.ceil(parseInt(g.algorithm.namedCurve.slice(-3),10)/8)<<3)),d,k)}function e_(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}async function e0(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new bZ("PBES2 Salt Input must be 8 or more octets");let e=b7(b5.encode(b),new Uint8Array([0]),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):(cA(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function e1(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await e0(e,a,d,b);return{encryptedKey:await eV(a.slice(-6),f,c),p2c:d,p2s:cd(e)}}async function e2(a,b,c,d,e){let f=await e0(e,a,d,b);return eW(a.slice(-6),f,c)}let e3=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new bX(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function e4(a,b,c){return cA(b,a,"encrypt"),cv(a,b),new Uint8Array(await crypto.subtle.encrypt(e3(a),b,c))}async function e5(a,b,c){return cA(b,a,"decrypt"),cv(a,b),new Uint8Array(await crypto.subtle.decrypt(e3(a),b,c))}function e6(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new bX(`Unsupported JWE Algorithm: ${a}`)}}let e7=a=>crypto.getRandomValues(new Uint8Array(e6(a)>>3));async function e8(a){if(cJ(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:cd(a)};if(!cI(a))throw TypeError(cC(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function e9(a){return e8(a)}async function fa(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function fb(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(cC(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=b7(f,d,c,b9(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await fa(e,m)}catch{}if(!g)throw new bY;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new bY;return h}async function fc(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(cA(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,b7(c,e)))}catch{throw new bY}}let fd=async(a,b,c,d,e,f)=>{if(!cI(b)&&!(b instanceof Uint8Array))throw TypeError(cC(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new bZ("JWE Initialization Vector missing");if(!e)throw new bZ("JWE Authentication Tag missing");switch(eO(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&eP(b,parseInt(a.slice(-3),10)),fb(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&eP(b,parseInt(a.slice(1,4),10)),fc(a,b,c,d,e,f);default:throw new bX("Unsupported JWE Content Encryption Algorithm")}};async function fe(a,b,c,d){let e=a.slice(0,7),f=await eS(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:cd(f.iv),tag:cd(f.tag)}}async function ff(a,b,c,d,e){return fd(a.slice(0,7),b,c,d,e,new Uint8Array(0))}let fg=async(a,b,c,d,e={})=>{let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(cH(c),!e_(c))throw new bX("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await cS(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await e9(i),p=await e$(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?e6(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=cd(j)),k&&(g.apv=cd(k)),"ECDH-ES"===a){h=p;break}h=d||e7(b);let q=a.slice(-6);f=await eV(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||e7(b),cH(c),f=await e4(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||e7(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await e1(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||e7(b),f=await eV(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||e7(b);let{iv:i}=e;({encryptedKey:f,...g}=await fe(a,c,h,i));break}default:throw new bX('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}};class fh{#n;#o;#p;#q;#r;#s;#t;#u;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#n=a}setKeyManagementParameters(a){if(this.#u)throw TypeError("setKeyManagementParameters can only be called once");return this.#u=a,this}setProtectedHeader(a){if(this.#o)throw TypeError("setProtectedHeader can only be called once");return this.#o=a,this}setSharedUnprotectedHeader(a){if(this.#p)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#p=a,this}setUnprotectedHeader(a){if(this.#q)throw TypeError("setUnprotectedHeader can only be called once");return this.#q=a,this}setAdditionalAuthenticatedData(a){return this.#r=a,this}setContentEncryptionKey(a){if(this.#s)throw TypeError("setContentEncryptionKey can only be called once");return this.#s=a,this}setInitializationVector(a){if(this.#t)throw TypeError("setInitializationVector can only be called once");return this.#t=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this.#o&&!this.#q&&!this.#p)throw new bZ("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!cG(this.#o,this.#q,this.#p))throw new bZ("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this.#o,...this.#q,...this.#p};if(cP(bZ,new Map,b?.crit,this.#o,h),void 0!==h.zip)throw new bX('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new bZ('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new bZ('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#s&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);cO("dir"===i?j:i,a,"encrypt");{let e,f=await cS(a,i);({cek:d,encryptedKey:c,parameters:e}=await fg(i,j,f,this.#s,this.#u)),e&&(b&&eM in b?this.#q?this.#q={...this.#q,...e}:this.setUnprotectedHeader(e):this.#o?this.#o={...this.#o,...e}:this.setProtectedHeader(e))}f=this.#o?b5.encode(cd(JSON.stringify(this.#o))):b5.encode(""),this.#r?(g=cd(this.#r),e=b7(f,b5.encode("."),b5.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await eS(j,this.#n,d,this.#t,e),n={ciphertext:cd(k)};return m&&(n.iv=cd(m)),l&&(n.tag=cd(l)),c&&(n.encrypted_key=cd(c)),g&&(n.aad=g),this.#o&&(n.protected=b6.decode(f)),this.#p&&(n.unprotected=this.#p),this.#q&&(n.header=this.#q),n}}class fi{#v;constructor(a){this.#v=new fh(a)}setContentEncryptionKey(a){return this.#v.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#v.setInitializationVector(a),this}setProtectedHeader(a){return this.#v.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#v.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#v.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}class fj{#s;#t;#u;#o;#w;#x;#y;#z;constructor(a={}){this.#z=new c_(a)}setIssuer(a){return this.#z.iss=a,this}setSubject(a){return this.#z.sub=a,this}setAudience(a){return this.#z.aud=a,this}setJti(a){return this.#z.jti=a,this}setNotBefore(a){return this.#z.nbf=a,this}setExpirationTime(a){return this.#z.exp=a,this}setIssuedAt(a){return this.#z.iat=a,this}setProtectedHeader(a){if(this.#o)throw TypeError("setProtectedHeader can only be called once");return this.#o=a,this}setKeyManagementParameters(a){if(this.#u)throw TypeError("setKeyManagementParameters can only be called once");return this.#u=a,this}setContentEncryptionKey(a){if(this.#s)throw TypeError("setContentEncryptionKey can only be called once");return this.#s=a,this}setInitializationVector(a){if(this.#t)throw TypeError("setInitializationVector can only be called once");return this.#t=a,this}replicateIssuerAsHeader(){return this.#w=!0,this}replicateSubjectAsHeader(){return this.#x=!0,this}replicateAudienceAsHeader(){return this.#y=!0,this}async encrypt(a,b){let c=new fi(this.#z.data());return this.#o&&(this.#w||this.#x||this.#y)&&(this.#o={...this.#o,iss:this.#w?this.#z.iss:void 0,sub:this.#x?this.#z.sub:void 0,aud:this.#y?this.#z.aud:void 0}),c.setProtectedHeader(this.#o),this.#t&&c.setInitializationVector(this.#t),this.#s&&c.setContentEncryptionKey(this.#s),this.#u&&c.setKeyManagementParameters(this.#u),c.encrypt(a,b)}}let fk=async(a,b,c,d,e)=>{switch(a){case"dir":if(void 0!==c)throw new bZ("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new bZ("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!ck(d.epk))throw new bZ('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(cH(b),!e_(b))throw new bX("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await cm(d.epk,a);if(cH(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new bZ('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=cc(d.apu)}catch{throw new bZ("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new bZ('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=cc(d.apv)}catch{throw new bZ("Failed to base64url decode the apv")}}let h=await e$(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?e6(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new bZ("JWE Encrypted Key missing");return eW(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new bZ("JWE Encrypted Key missing");return cH(b),e5(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new bZ("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new bZ('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new bZ('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new bZ('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=cc(d.p2s)}catch{throw new bZ("Failed to base64url decode the p2s")}return e2(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new bZ("JWE Encrypted Key missing");return eW(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new bZ("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new bZ('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new bZ('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=cc(d.iv)}catch{throw new bZ("Failed to base64url decode the iv")}try{f=cc(d.tag)}catch{throw new bZ("Failed to base64url decode the tag")}return ff(a,b,c,e,f)}default:throw new bX('Invalid or unsupported "alg" (JWE Algorithm) header value')}};async function fl(a,b,c){let d,e,f,g,h,i,j;if(!ck(a))throw new bZ("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new bZ("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new bZ("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new bZ("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new bZ("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new bZ("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new bZ("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new bZ("JWE AAD incorrect type");if(void 0!==a.header&&!ck(a.header))throw new bZ("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!ck(a.unprotected))throw new bZ("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=cc(a.protected);d=JSON.parse(b6.decode(b))}catch{throw new bZ("JWE Protected Header is invalid")}if(!cG(d,a.header,a.unprotected))throw new bZ("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(cP(bZ,new Map,c?.crit,d,k),void 0!==k.zip)throw new bX('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new bZ("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new bZ("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&cQ("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&cQ("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new bW('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new bW('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=cc(a.encrypted_key)}catch{throw new bZ("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),cO("dir"===l?m:l,b,"decrypt");let q=await cS(b,l);try{f=await fk(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof bZ||a instanceof bX)throw a;f=e7(m)}if(void 0!==a.iv)try{g=cc(a.iv)}catch{throw new bZ("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=cc(a.tag)}catch{throw new bZ("Failed to base64url decode the tag")}let r=b5.encode(a.protected??"");i=void 0!==a.aad?b7(r,b5.encode("."),b5.encode(a.aad)):r;try{j=cc(a.ciphertext)}catch{throw new bZ("Failed to base64url decode the ciphertext")}let s={plaintext:await fd(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=cc(a.aad)}catch{throw new bZ("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function fm(a,b,c){if(a instanceof Uint8Array&&(a=b6.decode(a)),"string"!=typeof a)throw new bZ("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new bZ("Invalid Compact JWE");let j=await fl({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function fn(a,b,c){let d=await fm(a,b,c),e=c$(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new bU('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new bU('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new bU('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}let fo="sha256",fp="JWE CEK";async function fq(a,b,c,d){let e=await eL(fo,b,"",fp,32);return(await new fj(a).setProtectedHeader({enc:"A256GCM",alg:"dir",...d}).setExpirationTime(c).encrypt(e)).toString()}async function fr(a,b,c){try{let d=await eL(fo,b,"",fp,32);return await fn(a,d,{...c,clockTolerance:15})}catch(a){if("ERR_JWT_EXPIRED"===a.code)return null;throw a}}async function fs(a,b,c){if(!b)return;let[d,e]=b.split("."),f={protected:cd(JSON.stringify({alg:"HS256",b64:!1,crit:["b64"]})),payload:`${a}=${d}`,signature:e},g=await eL("sha256",c,"","JWS Cookie Signing",32);try{return await cT(f,g,{algorithms:["HS256"]}),d}catch(a){return}}let ft=RegExp("__(\\d+)$"),fu=/\.(\d+)$/,fv=(a,b)=>{let c=b?fu.exec(a):ft.exec(a);if(c)return parseInt(c[1],10)},fw=(a,b,c)=>{let d=new RegExp(c?`^${b}${fu.source}$`:`^${b}__\\d+$`);return a.getAll().filter(a=>d.test(a.name))};function fx(a,b,c){let d=b.get(a);if(d?.value)return d.value;let e=fw(b,a,c).sort((a,b)=>fv(a.name,c)-fv(b.name,c));if(0===e.length)return;let f=fv(e[e.length-1].name,c);return e.length!==f+1?void console.warn(`Incomplete chunked cookie '${a}': Found ${e.length} chunks, expected ${f+1}`):e.map(a=>a.value).join("")}function fy(a,b,c,d,e){fA(c,a,e),fw(b,a,d).forEach(a=>{fA(c,a.name,e)})}function fz(a){a.headers.set("Cache-Control","private, no-cache, no-store, must-revalidate, max-age=0"),a.headers.set("Pragma","no-cache"),a.headers.set("Expires","0")}function fA(a,b,c){let d={maxAge:0};c?.domain&&(d.domain=c.domain),c?.path&&(d.path=c.path),a.set(b,"",d)}let fB=["sub","name","nickname","given_name","family_name","picture","email","email_verified","org_id"],fC=["client_id","redirect_uri","response_type","code_challenge","code_challenge_method","state","nonce"],fD="openid profile email offline_access";function fE(a,b){return new URL(eC((a=>{var b;let c=process.env.NEXT_PUBLIC_BASE_PATH;return c?eB((b=c)&&!b.startsWith("/")?`/${b}`:b)+eC(a):a})(a)),eB(b))}class fF{constructor(a){if(this.fetch=a.fetch||fetch,this.jwksCache=a.jwksCache||{},this.allowInsecureRequests=a.allowInsecureRequests??!1,this.httpOptions=()=>{let b=new Headers,c=a.enableTelemetry??!0,d=a.httpTimeout??5e3;if(c){let a="nextjs-auth0",c=eA.rE;b.set("User-Agent",`${a}/${c}`),b.set("Auth0-Client",fG(JSON.stringify({name:a,version:c})))}return{signal:AbortSignal.timeout(d),headers:b}},this.allowInsecureRequests&&console.warn("allowInsecureRequests is enabled in a production environment. This is not recommended."),this.transactionStore=a.transactionStore,this.sessionStore=a.sessionStore,this.domain=a.domain,this.clientMetadata={client_id:a.clientId},this.clientSecret=a.clientSecret,this.authorizationParameters=a.authorizationParameters||{scope:fD},this.pushedAuthorizationRequests=a.pushedAuthorizationRequests??!1,this.clientAssertionSigningKey=a.clientAssertionSigningKey,this.clientAssertionSigningAlg=a.clientAssertionSigningAlg||"RS256",this.authorizationParameters.scope||(this.authorizationParameters.scope=fD),!this.authorizationParameters.scope.split(" ").map(a=>a.trim()).includes("openid"))throw Error("The 'openid' scope must be included in the set of scopes. See https://auth0.com/docs");this.appBaseUrl=a.appBaseUrl,this.signInReturnToPath=a.signInReturnToPath||"/";let b=["auto","oidc","v2"],c=a.logoutStrategy||"auto";b.includes(c)||(console.error(`Invalid logoutStrategy: ${c}. Must be one of: ${b.join(", ")}. Defaulting to "auto"`),c="auto"),this.logoutStrategy=c,this.beforeSessionSaved=a.beforeSessionSaved,this.onCallback=a.onCallback||this.defaultOnCallback,this.routes=a.routes,this.enableAccessTokenEndpoint=a.enableAccessTokenEndpoint??!0,this.noContentProfileResponseWhenUnauthenticated=a.noContentProfileResponseWhenUnauthenticated??!1}async handler(a){let{pathname:b}=a.nextUrl,c=b.endsWith("/")?b.slice(0,-1):b,d=a.method;if("GET"===d&&c===this.routes.login)return this.handleLogin(a);{if("GET"===d&&c===this.routes.logout)return this.handleLogout(a);if("GET"===d&&c===this.routes.callback)return this.handleCallback(a);if("GET"===d&&c===this.routes.profile)return this.handleProfile(a);if("GET"===d&&c===this.routes.accessToken&&this.enableAccessTokenEndpoint)return this.handleAccessToken(a);if("POST"===d&&c===this.routes.backChannelLogout)return this.handleBackChannelLogout(a);let b=Z.next(),e=await this.sessionStore.get(a.cookies);return e&&(await this.sessionStore.set(a.cookies,b.cookies,{...e}),fz(b)),b}}async startInteractiveLogin(a={}){let b=fE(this.routes.callback,this.appBaseUrl),c=this.signInReturnToPath;if(a.returnTo){let b=new URL(this.authorizationParameters.redirect_uri||this.appBaseUrl),d=function(a,b){let c;try{c=new URL(a,b)}catch(a){return}if(c.origin===b.origin)return c}(a.returnTo,b);d&&(c=d.pathname+d.search+d.hash)}let d=ds(),e=await dt(d),f=ds(),g=ds(),h=new URLSearchParams;h.set("client_id",this.clientMetadata.client_id),h.set("redirect_uri",b.toString()),h.set("response_type","code"),h.set("code_challenge",e),h.set("code_challenge_method","S256"),h.set("state",f),h.set("nonce",g),Object.entries({...this.authorizationParameters,...a.authorizationParameters}).forEach(([a,b])=>{fC.includes(a)||null==b||h.set(a,String(b))});let i={nonce:g,maxAge:this.authorizationParameters.max_age,codeVerifier:d,responseType:"code",state:f,returnTo:c},[j,k]=await this.authorizationUrl(h);if(j)return new Z("An error occured while trying to initiate the login request.",{status:500});let l=Z.redirect(k.toString());return await this.transactionStore.save(l.cookies,i),l}async handleLogin(a){let b=Object.fromEntries(a.nextUrl.searchParams.entries()),c={authorizationParameters:this.pushedAuthorizationRequests?{}:b,returnTo:b.returnTo};return this.startInteractiveLogin(c)}async handleLogout(a){let b,c=await this.sessionStore.get(a.cookies),[d,e]=await this.discoverAuthorizationServerMetadata();if(d){let b=new Z("An error occured while trying to initiate the logout request.",{status:500});return await this.sessionStore.delete(a.cookies,b.cookies),await this.transactionStore.deleteAll(a.cookies,b.cookies),b}let f=a.nextUrl.searchParams.get("returnTo")||this.appBaseUrl,g=()=>{let a=new URL("/v2/logout",this.issuer);return a.searchParams.set("returnTo",f),a.searchParams.set("client_id",this.clientMetadata.client_id),Z.redirect(a)},h=()=>{let a=new URL(e.end_session_endpoint);return a.searchParams.set("client_id",this.clientMetadata.client_id),a.searchParams.set("post_logout_redirect_uri",f),c?.internal.sid&&a.searchParams.set("logout_hint",c.internal.sid),c?.tokenSet.idToken&&a.searchParams.set("id_token_hint",c.tokenSet.idToken),Z.redirect(a)};if("v2"===this.logoutStrategy)b=g();else if("oidc"===this.logoutStrategy){if(!e.end_session_endpoint){let b=new Z("OIDC RP-Initiated Logout is not supported by the authorization server. Enable it or use a different logout strategy.",{status:500});return await this.sessionStore.delete(a.cookies,b.cookies),await this.transactionStore.deleteAll(a.cookies,b.cookies),b}b=h()}else e.end_session_endpoint?b=h():(console.warn("The Auth0 client does not have RP-initiated logout enabled, the user will be redirected to the `/v2/logout` endpoint instead. Learn how to enable it here: https://auth0.com/docs/authenticate/login/logout/log-users-out-of-auth0#enable-endpoint-discovery"),b=g());return await this.sessionStore.delete(a.cookies,b.cookies),fz(b),await this.transactionStore.deleteAll(a.cookies,b.cookies),b}async handleCallback(a){let b,c,d,e=a.nextUrl.searchParams.get("state");if(!e)return this.handleCallbackError(new bL,{},a);let f=await this.transactionStore.get(a.cookies,e);if(!f)return this.onCallback(new bM,{},null);let g=f.payload,h={returnTo:g.returnTo},[i,j]=await this.discoverAuthorizationServerMetadata();if(i)return this.handleCallbackError(i,h,a,e);try{b=function(a,b,c,d){var e;if(dx(a),dy(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw c4('"parameters" must be an instance of URLSearchParams, or URL',c3);if(eu(c,"response"))throw dg('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',ee,{parameters:c});let f=eu(c,"iss"),g=eu(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw dg('response parameter "iss" (issuer) missing',ee,{parameters:c});if(f&&f!==a.issuer)throw dg('unexpected "iss" (issuer) response parameter value',ee,{expected:a.issuer,parameters:c});switch(d){case void 0:case ew:if(void 0!==g)throw dg('unexpected "state" response parameter encountered',ee,{expected:void 0,parameters:c});break;case ev:break;default:if(dp(d,'"expectedState" argument'),g!==d)throw dg(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',ee,{expected:d,parameters:c})}if(eu(c,"error"))throw new dG("authorization response from the server is an error",{cause:c});let h=eu(c,"id_token"),i=eu(c,"token");if(void 0!==h||void 0!==i)throw new de("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),d_.add(e),e}(j,this.clientMetadata,a.nextUrl.searchParams,g.state)}catch(b){return this.handleCallbackError(new bN({cause:new bJ({code:b.error,message:b.error_description})}),h,a,e)}try{let a=fE(this.routes.callback,this.appBaseUrl);c=await d1(j,this.clientMetadata,await this.getClientAuth(),b,a.toString(),g.codeVerifier,{...this.httpOptions(),[c8]:this.fetch,[c5]:this.allowInsecureRequests})}catch(b){return this.handleCallbackError(new bO(b.message),h,a,e)}try{d=await d6(j,this.clientMetadata,c,{expectedNonce:g.nonce,maxAge:g.maxAge,requireIdToken:!0})}catch(b){return this.handleCallbackError(new bP({cause:new bJ({code:b.error,message:b.error_description})}),h,a,e)}let k=dW(d),l={user:k,tokenSet:{accessToken:d.access_token,idToken:d.id_token,scope:d.scope,refreshToken:d.refresh_token,expiresAt:Math.floor(Date.now()/1e3)+Number(d.expires_in)},internal:{sid:k.sid,createdAt:Math.floor(Date.now()/1e3)}},m=await this.onCallback(null,h,l);return l=await this.finalizeSession(l,d.id_token),await this.sessionStore.set(a.cookies,m.cookies,l,!0),fz(m),await this.transactionStore.delete(m.cookies,e),m}async handleProfile(a){let b=await this.sessionStore.get(a.cookies);if(!b)return this.noContentProfileResponseWhenUnauthenticated?new Z(null,{status:204}):new Z(null,{status:401});let c=Z.json(b?.user);return fz(c),c}async handleAccessToken(a){let b=await this.sessionStore.get(a.cookies);if(!b)return Z.json({error:{message:"The user does not have an active session.",code:k.MISSING_SESSION}},{status:401});let[c,d]=await this.getTokenSet(b.tokenSet);if(c)return Z.json({error:{message:c.message,code:c.code}},{status:401});let{tokenSet:e,idTokenClaims:f}=d,g=Z.json({token:e.accessToken,scope:e.scope,expires_at:e.expiresAt});if(e.accessToken!==b.tokenSet.accessToken||e.expiresAt!==b.tokenSet.expiresAt||e.refreshToken!==b.tokenSet.refreshToken){f&&(b.user=f);let c=await this.finalizeSession(b,e.idToken);await this.sessionStore.set(a.cookies,g.cookies,{...c,tokenSet:e}),fz(g)}return g}async handleBackChannelLogout(a){if(!this.sessionStore.store)return new Z("A session data store is not configured.",{status:500});if(!this.sessionStore.store.deleteByLogoutToken)return new Z("Back-channel logout is not supported by the session data store.",{status:500});let b=new URLSearchParams(await a.text()).get("logout_token");if(!b)return new Z("Missing `logout_token` in the request body.",{status:400});let[c,d]=await this.verifyLogoutToken(b);return c?new Z(c.message,{status:400}):(await this.sessionStore.store.deleteByLogoutToken(d),new Z(null,{status:204}))}async getTokenSet(a,b){if(!a.refreshToken&&a.expiresAt<=Date.now()/1e3)return[new bR(k.MISSING_REFRESH_TOKEN,"The access token has expired and a refresh token was not provided. The user needs to re-authenticate."),null];if(a.refreshToken&&(b||a.expiresAt<=Date.now()/1e3)){let b,[c,d]=await this.discoverAuthorizationServerMetadata();if(c)return[c,null];let e=await dT(d,this.clientMetadata,await this.getClientAuth(),a.refreshToken,{...this.httpOptions(),[c8]:this.fetch,[c5]:this.allowInsecureRequests});try{b=await dY(d,this.clientMetadata,e)}catch(a){return[new bR(k.FAILED_TO_REFRESH_TOKEN,"The access token has expired and there was an error while trying to refresh it.",new bJ({code:a.error,message:a.error_description})),null]}let f=dW(b),g=Math.floor(Date.now()/1e3)+Number(b.expires_in),h={...a,accessToken:b.access_token,idToken:b.id_token,expiresAt:g};return b.refresh_token?h.refreshToken=b.refresh_token:h.refreshToken=a.refreshToken,[null,{tokenSet:h,idTokenClaims:f}]}return[null,{tokenSet:a,idTokenClaims:void 0}]}async discoverAuthorizationServerMetadata(){if(this.authorizationServerMetadata)return[null,this.authorizationServerMetadata];let a=new URL(this.issuer);try{let b=await dm(a,{...this.httpOptions(),[c8]:this.fetch,[c5]:this.allowInsecureRequests}).then(b=>dq(a,b));return this.authorizationServerMetadata=b,[null,b]}catch(b){return console.error(`An error occured while performing the discovery request. issuer=${a.toString()}, error:`,b),[new bK("Discovery failed for the OpenID Connect configuration."),null]}}async defaultOnCallback(a,b){return a?new Z(a.message,{status:500}):Z.redirect(fE(b.returnTo||"/",this.appBaseUrl))}async handleCallbackError(a,b,c,d){let e=await this.onCallback(a,b,null);return d&&await this.transactionStore.delete(e.cookies,d),e}async verifyLogoutToken(a){let[b,c]=await this.discoverAuthorizationServerMetadata();if(b)return[b,null];let d=function(a,b){let c=new cu(a,b),d=async(a,b)=>c.getKey(a,b);return Object.defineProperties(d,{coolingDown:{get:()=>c.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>c.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>c.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>c.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>c.jwks(),enumerable:!0,configurable:!1,writable:!1}}),d}(new URL(c.jwks_uri),{[ct]:this.jwksCache}),{payload:e}=await c0(a,d,{issuer:c.issuer,audience:this.clientMetadata.client_id,algorithms:["RS256"],requiredClaims:["iat"]});return"sid"in e||"sub"in e?"sid"in e&&"string"!=typeof e.sid?[new bQ('"sid" claim must be a string'),null]:"sub"in e&&"string"!=typeof e.sub?[new bQ('"sub" claim must be a string'),null]:"nonce"in e?[new bQ('"nonce" claim is prohibited'),null]:"events"in e?"object"!=typeof e.events||null===e.events?[new bQ('"events" claim must be an object'),null]:"http://schemas.openid.net/event/backchannel-logout"in e.events?"object"!=typeof e.events["http://schemas.openid.net/event/backchannel-logout"]?[new bQ('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object'),null]:[null,{sid:e.sid,sub:e.sub}]:[new bQ('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim'),null]:[new bQ('"events" claim is missing'),null]:[new bQ('either "sid" or "sub" (or both) claims must be present'),null]}async authorizationUrl(a){let[b,c]=await this.discoverAuthorizationServerMetadata();if(b)return[b,null];if(this.pushedAuthorizationRequests&&!c.pushed_authorization_request_endpoint)return console.error("The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par"),[Error("The authorization server does not support pushed authorization requests."),null];let d=new URL(c.authorization_endpoint);if(this.pushedAuthorizationRequests){let b,e=await dE(c,this.clientMetadata,await this.getClientAuth(),a,{...this.httpOptions(),[c8]:this.fetch,[c5]:this.allowInsecureRequests});try{b=await dN(c,this.clientMetadata,e)}catch(a){return[new bN({cause:new bJ({code:a.error,message:a.error_description}),message:"An error occured while pushing the authorization request."}),null]}return d.searchParams.set("request_uri",b.request_uri),d.searchParams.set("client_id",this.clientMetadata.client_id),[null,d]}return d.search=a.toString(),[null,d]}async getClientAuth(){var a;if(!this.clientSecret&&!this.clientAssertionSigningKey)throw Error("The client secret or client assertion signing key must be provided.");let b=this.clientAssertionSigningKey;return b&&"string"==typeof b&&(b=await cl(b,this.clientAssertionSigningAlg)),b?function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&dp(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw c4(`${e} must be a CryptoKey`,c3);if("private"!==c.type)throw c4(`${e} must be a private CryptoKey`,c2);return async(a,b,e,f)=>{let g={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new de("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new de("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new de("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new de("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},h=function(a,b){let c=dw()+du(b);return{jti:ds(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}(a,b);e.set("client_id",b.client_id),e.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),e.set("client_assertion",await dz(g,h,c))}}(b):(dp(a=this.clientSecret,'"clientSecret"'),(b,c,d,e)=>{d.set("client_id",c.client_id),d.set("client_secret",a)})}get issuer(){return this.domain.startsWith("http://")||this.domain.startsWith("https://")?this.domain:`https://${this.domain}`}async getConnectionTokenSet(a,b,c){if(!a.refreshToken&&(!b||b.expiresAt<=Date.now()/1e3))return[new bS(l.MISSING_REFRESH_TOKEN,"A refresh token was not present, Connection Access Token requires a refresh token. The user needs to re-authenticate."),null];if(a.refreshToken&&(!b||b.expiresAt<=Date.now()/1e3)){let b,d=new URLSearchParams;d.append("connection",c.connection),d.append("subject_token_type","urn:ietf:params:oauth:token-type:refresh_token"),d.append("subject_token",a.refreshToken),d.append("requested_token_type","http://auth0.com/oauth/token-type/federated-connection-access-token"),c.login_hint&&d.append("login_hint",c.login_hint);let[e,f]=await this.discoverAuthorizationServerMetadata();if(e)return[e,null];let g=await eo(f,this.clientMetadata,await this.getClientAuth(),"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token",d,{[c8]:this.fetch,[c5]:this.allowInsecureRequests});try{b=await ep(f,this.clientMetadata,g)}catch(a){return[new bS(l.FAILED_TO_EXCHANGE,"There was an error trying to exchange the refresh token for a connection access token.",new bJ({code:a.error,message:a.error_description})),null]}return[null,{accessToken:b.access_token,expiresAt:Math.floor(Date.now()/1e3)+Number(b.expires_in),scope:b.scope,connection:c.connection}]}return[null,b]}async finalizeSession(a,b){if(this.beforeSessionSaved)a={...await this.beforeSessionSaved(a,b??null),internal:a.internal};else{var c;a.user=Object.keys(c=a.user).reduce((a,b)=>(fB.includes(b)&&(a[b]=c[b]),a),{})}return a}}let fG=a=>{let b=new TextEncoder().encode(a),c=[];for(let a=0;a<b.length;a+=32768)c.push(String.fromCharCode.apply(null,b.subarray(a,a+32768)));return btoa(c.join(""))};class fH{constructor({secret:a,rolling:b=!0,absoluteDuration:c=259200,inactivityDuration:d=86400,store:e,cookieOptions:f}){this.secret=a,this.rolling=b,this.absoluteDuration=c,this.inactivityDuration=d,this.store=e,this.sessionCookieName=f?.name??"__session",this.cookieConfig={httpOnly:!0,sameSite:f?.sameSite??"lax",secure:f?.secure??!1,path:f?.path??"/",domain:f?.domain,transient:f?.transient}}epoch(){return Date.now()/1e3|0}calculateMaxAge(a){if(!this.rolling)return this.absoluteDuration;let b=Math.min(this.epoch()+this.inactivityDuration,a+this.absoluteDuration)-this.epoch();return b>0?b:0}}let fI="appSession";function fJ(a,b){let c=b.user;return{user:c,tokenSet:{idToken:b.idToken??void 0,accessToken:b.accessToken??void 0,scope:b.accessTokenScope,refreshToken:b.refreshToken,expiresAt:b.accessTokenExpiresAt},internal:{sid:c.sid,createdAt:a.iat}}}let fK=()=>{let a=new Uint8Array(16);return crypto.getRandomValues(a),Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")};class fL extends fH{constructor({secret:a,store:b,rolling:c,absoluteDuration:d,inactivityDuration:e,cookieOptions:f}){super({secret:a,rolling:c,absoluteDuration:d,inactivityDuration:e,cookieOptions:f}),this.store=b}async get(a){let b=a.get(this.sessionCookieName)||a.get(fI);if(!b||!b.value)return null;let c=null;try{let a=await fr(b.value,this.secret);if(null===a)return null;c=a.payload.id}catch(a){if("ERR_JWE_INVALID"===a.code){let a=await fs(b.name,b.value,this.secret);if(!a)return null;c=a}}if(!c)return null;let d=await this.store.get(c);return d?d.header?.iat?fJ(d.header,d.data):d:null}async set(a,b,c,d=!1){let e=null,f=a.get(this.sessionCookieName)?.value;if(f){let a=await fr(f,this.secret);a&&(e=a.payload.id)}e&&d&&(await this.store.delete(e),e=fK()),e||(e=fK());let g=this.calculateMaxAge(c.internal.createdAt),h=Date.now()/1e3+g,i=await fq({id:e},this.secret,h);b.set(this.sessionCookieName,i.toString(),{...this.cookieConfig,maxAge:g}),await this.store.set(e,c),a.set(this.sessionCookieName,i.toString()),this.sessionCookieName!==fI&&a.has(fI)&&fA(b,fI,{domain:this.cookieConfig.domain,path:this.cookieConfig.path})}async delete(a,b){let c=a.get(this.sessionCookieName)?.value;if(fA(b,this.sessionCookieName,{domain:this.cookieConfig.domain,path:this.cookieConfig.path}),!c)return;let d=await fr(c,this.secret);d&&await this.store.delete(d.payload.id)}}class fM extends fH{constructor({secret:a,rolling:b,absoluteDuration:c,inactivityDuration:d,cookieOptions:e}){super({secret:a,rolling:b,absoluteDuration:c,inactivityDuration:d,cookieOptions:e}),this.connectionTokenSetsCookieName="__FC"}async get(a){let b=fx(this.sessionCookieName,a)??fx(fI,a,!0);if(!b)return null;let c=await fr(b,this.secret);if(!c)return null;let d=c.protectedHeader.iat?fJ(c.protectedHeader,c.payload):c.payload,e=this.getConnectionTokenSetsCookies(a),f=[];for(let a of e){let b=await fr(a.value,this.secret);b&&f.push(b.payload)}return{...d,...f.length?{connectionTokenSets:f}:{}}}async set(a,b,c){let{connectionTokenSets:d,...e}=c,f=this.calculateMaxAge(c.internal.createdAt),g=Math.floor(Date.now()/1e3)+f,h=(await fq(e,this.secret,g)).toString(),i={...this.cookieConfig,maxAge:f};!function(a,b,c,d,e){let{transient:f,...g}=c,h={...g};if(f&&delete h.maxAge,new TextEncoder().encode(b).length<=3500){e.set(a,b,h),d.set(a,b),fw(d,a).forEach(a=>{fA(e,a.name,{path:h.path,domain:h.domain}),d.delete(a.name)});return}let i=0,j=0;for(;i<b.length;){let c=b.slice(i,i+3500),f=`${a}__${j}`;e.set(f,c,h),d.set(f,c),i+=3500,j++}let k=fw(d,a).length-j;if(k>0)for(let b=0;b<k;b++){let c=j+b,f=`${a}__${c}`;fA(e,f,{path:h.path,domain:h.domain}),d.delete(f)}fA(e,a,{path:h.path,domain:h.domain}),d.delete(a)}(this.sessionCookieName,h,i,a,b),d?.length&&await Promise.all(d.map((c,d)=>this.storeInCookie(a,b,c,`${this.connectionTokenSetsCookieName}_${d}`,f))),fy(fI,a,b,!0,{domain:this.cookieConfig.domain,path:this.cookieConfig.path})}async delete(a,b){let c={domain:this.cookieConfig.domain,path:this.cookieConfig.path};fy(this.sessionCookieName,a,b,!1,c),this.getConnectionTokenSetsCookies(a).forEach(a=>fA(b,a.name,c))}async storeInCookie(a,b,c,d,e){let f=Math.floor(Date.now()/1e3+e),g=await fq(c,this.secret,f),h=g.toString();b.set(d,g.toString(),{...this.cookieConfig,maxAge:e}),a.set(d,h);let i=new eI(new Headers);i.set(d,h,{...this.cookieConfig,maxAge:e}),new TextEncoder().encode(i.toString()).length>=4096&&(d===this.sessionCookieName?console.warn(`The ${d} cookie size exceeds 4096 bytes, which may cause issues in some browsers. Consider removing any unnecessary custom claims from the access token or the user profile. Alternatively, you can use a stateful session implementation to store the session data in a data store.`):console.warn(`The ${d} cookie size exceeds 4096 bytes, which may cause issues in some browsers. You can use a stateful session implementation to store the session data in a data store.`))}getConnectionTokenSetsCookies(a){return a.getAll().filter(a=>a.name.startsWith(this.connectionTokenSetsCookieName))}}class fN{constructor({secret:a,cookieOptions:b,enableParallelTransactions:c}){this.secret=a,this.transactionCookiePrefix=b?.prefix??"__txn_",this.cookieOptions={httpOnly:!0,sameSite:b?.sameSite??"lax",secure:b?.secure??!1,path:b?.path??"/",domain:b?.domain,maxAge:b?.maxAge||3600},this.enableParallelTransactions=c??!0}getTransactionCookieName(a){return this.enableParallelTransactions?`${this.transactionCookiePrefix}${a}`:`${this.transactionCookiePrefix}`}getCookiePrefix(){return this.transactionCookiePrefix}async save(a,b,c){if(!b.state)throw Error("Transaction state is required");if(c&&!this.enableParallelTransactions){let a=this.getTransactionCookieName(b.state);if(c.get(a))return void console.warn("A transaction is already in progress. Only one transaction is allowed when parallel transactions are disabled.")}let d=this.cookieOptions.maxAge,e=Math.floor(Date.now()/1e3+d),f=await fq(b,this.secret,e);a.set(this.getTransactionCookieName(b.state),f.toString(),this.cookieOptions)}async get(a,b){let c=this.getTransactionCookieName(b),d=a.get(c)?.value;return d?fr(d,this.secret):null}async delete(a,b){fA(a,this.getTransactionCookieName(b),{domain:this.cookieOptions.domain,path:this.cookieOptions.path})}async deleteAll(a,b){let c=this.getCookiePrefix(),d={domain:this.cookieOptions.domain,path:this.cookieOptions.path};a.getAll().forEach(a=>{a.name.startsWith(c)&&fA(b,a.name,d)})}}class fO{constructor(a={}){let{domain:b,clientId:c,clientSecret:d,appBaseUrl:e,secret:f,clientAssertionSigningKey:g}=this.validateAndExtractRequiredOptions(a),h=a.clientAssertionSigningAlg||process.env.AUTH0_CLIENT_ASSERTION_SIGNING_ALG,i=process.env.NEXT_PUBLIC_BASE_PATH,j={name:a.session?.cookie?.name??"__session",secure:a.session?.cookie?.secure??"true"===process.env.AUTH0_COOKIE_SECURE,sameSite:a.session?.cookie?.sameSite??process.env.AUTH0_COOKIE_SAME_SITE??"lax",path:a.session?.cookie?.path??process.env.AUTH0_COOKIE_PATH??i??"/",transient:a.session?.cookie?.transient??"true"===process.env.AUTH0_COOKIE_TRANSIENT,domain:a.session?.cookie?.domain??process.env.AUTH0_COOKIE_DOMAIN},k={prefix:a.transactionCookie?.prefix??"__txn_",secure:a.transactionCookie?.secure??!1,sameSite:a.transactionCookie?.sameSite??"lax",path:a.transactionCookie?.path??i??"/",maxAge:a.transactionCookie?.maxAge??3600};if(e){let{protocol:a}=new URL(e);"https:"===a&&(j.secure=!0,k.secure=!0)}this.routes={login:process.env.NEXT_PUBLIC_LOGIN_ROUTE||"/auth/login",logout:"/auth/logout",callback:"/auth/callback",backChannelLogout:"/auth/backchannel-logout",profile:process.env.NEXT_PUBLIC_PROFILE_ROUTE||"/auth/profile",accessToken:process.env.NEXT_PUBLIC_ACCESS_TOKEN_ROUTE||"/auth/access-token",...a.routes},this.transactionStore=new fN({secret:f,cookieOptions:k,enableParallelTransactions:a.enableParallelTransactions??!0}),this.sessionStore=a.sessionStore?new fL({...a.session,secret:f,store:a.sessionStore,cookieOptions:j}):new fM({...a.session,secret:f,cookieOptions:j}),this.authClient=new fF({transactionStore:this.transactionStore,sessionStore:this.sessionStore,domain:b,clientId:c,clientSecret:d,clientAssertionSigningKey:g,clientAssertionSigningAlg:h,authorizationParameters:a.authorizationParameters,pushedAuthorizationRequests:a.pushedAuthorizationRequests,appBaseUrl:e,secret:f,signInReturnToPath:a.signInReturnToPath,logoutStrategy:a.logoutStrategy,beforeSessionSaved:a.beforeSessionSaved,onCallback:a.onCallback,routes:this.routes,allowInsecureRequests:a.allowInsecureRequests,httpTimeout:a.httpTimeout,enableTelemetry:a.enableTelemetry,enableAccessTokenEndpoint:a.enableAccessTokenEndpoint,noContentProfileResponseWhenUnauthenticated:a.noContentProfileResponseWhenUnauthenticated})}middleware(a){return this.authClient.handler.bind(this.authClient)(a)}async getSession(a){return a?a instanceof U?this.sessionStore.get(a.cookies):this.sessionStore.get(this.createRequestCookies(a)):this.sessionStore.get(await bD())}async getAccessToken(a,b,c){let d,e,f={refresh:!1},g={};if(a&&(a instanceof Request||"object"==typeof a.headers)){if(d=a,e=b,g={...f,...c??{}},!e)throw TypeError("getAccessToken(req, res): The 'res' argument is missing. Both 'req' and 'res' must be provided together for Pages Router or middleware usage.")}else{if(void 0!==b||void 0!==c)throw TypeError("getAccessToken: Invalid arguments. Valid signatures are getAccessToken(), getAccessToken(options), or getAccessToken(req, res, options).");g={...f,...a??{}}}let h=d?await this.getSession(d):await this.getSession();if(!h)throw new bR(k.MISSING_SESSION,"The user does not have an active session.");let[i,j]=await this.authClient.getTokenSet(h.tokenSet,g.refresh);if(i)throw i;let{tokenSet:l,idTokenClaims:m}=j;if(l.accessToken!==h.tokenSet.accessToken||l.expiresAt!==h.tokenSet.expiresAt||l.refreshToken!==h.tokenSet.refreshToken){m&&(h.user=m);let a=await this.authClient.finalizeSession(h,l.idToken);await this.saveToSession({...a,tokenSet:l},d,e)}return{token:l.accessToken,scope:l.scope,expiresAt:l.expiresAt}}async getAccessTokenForConnection(a,b,c){let d=b?await this.getSession(b):await this.getSession();if(!d)throw new bS(l.MISSING_SESSION,"The user does not have an active session.");let e=d.connectionTokenSets?.find(b=>b.connection===a.connection),[f,g]=await this.authClient.getConnectionTokenSet(d.tokenSet,e,a);if(null!==f)throw f;if(g&&(!e||g.accessToken!==e.accessToken||g.expiresAt!==e.expiresAt||g.scope!==e.scope)){let f;f=e?d.connectionTokenSets?.map(b=>b.connection===a.connection?g:b):[...d.connectionTokenSets||[],g],await this.saveToSession({...d,connectionTokenSets:f},b,c)}return{token:g.accessToken,scope:g.scope,expiresAt:g.expiresAt}}async updateSession(a,b,c){if(b){if(!c)throw Error("The session data is missing.");if(a instanceof U&&b instanceof Z){let d=await this.getSession(a);if(!d)throw Error("The user is not authenticated.");await this.sessionStore.set(a.cookies,b.cookies,{...c,internal:{...d.internal}})}else{let d=await this.getSession(a);if(!d)throw Error("The user is not authenticated.");let e=new Headers,f=new eI(e),g=this.createRequestCookies(a);for(let[a,h]of(await this.sessionStore.set(g,f,{...c,internal:{...d.internal}}),e.entries()))b.setHeader(a,h)}}else{let b=await this.getSession();if(!b)throw Error("The user is not authenticated.");if(!a)throw Error("The session data is missing.");await this.sessionStore.set(await bD(),await bD(),{...a,internal:{...b.internal}})}}createRequestCookies(a){let b=new Headers;for(let c in a.headers)if(Array.isArray(a.headers[c]))for(let d of a.headers[c])b.append(c,d);else b.append(c,a.headers[c]??"");return new eH(b)}async startInteractiveLogin(a){return this.authClient.startInteractiveLogin(a)}withPageAuthRequired(a,b){let d,e,f={loginUrl:this.routes.login},g=(d=this,(a,b={})=>async e=>{let g=await d.getSession();if(!g?.user){let a="function"==typeof b.returnTo?await b.returnTo(e):b.returnTo,{redirect:d}=await Promise.resolve().then(c.bind(c,12));d(`${f.loginUrl}${b.returnTo?`?returnTo=${a}`:""}`)}return a(e)}),h=(e=this,({getServerSideProps:a,returnTo:b}={})=>async c=>{let d=await e.getSession(c.req);if(!d?.user)return{redirect:{destination:`${f.loginUrl}?returnTo=${encodeURIComponent(b||c.resolvedUrl)}`,permanent:!1}};let g={props:{}};if(a&&(g=await a(c)),g.props instanceof Promise){let a=await g.props;return{...g,props:{user:d.user,...a}}}return{...g,props:{user:d.user,...g.props}}});return"function"==typeof a?g(a,b):h(a)}withApiAuthRequired(a){let b,c,d=(b=this,a=>async(c,d)=>{let e=await b.getSession(c);if(!e||!e.user)return void d.status(401).json({error:"not_authenticated",description:"The user does not have an active session or is not authenticated"});await a(c,d)}),e=(c=this,a=>async(b,d)=>{let e=await c.getSession();if(!e||!e.user)return Z.json({error:"not_authenticated",description:"The user does not have an active session or is not authenticated"},{status:401});let f=await a(b,d);return f instanceof Z?f:new Z(f.body,f)});return(b,c)=>b instanceof Request||b.headers instanceof Headers||"boolean"==typeof b.bodyUsed?e(a)(b,c):d(a)(b,c)}async saveToSession(a,b,c){if(b&&c)if(b instanceof U&&c instanceof Z)await this.sessionStore.set(b.cookies,c.cookies,a);else{let d=new Headers,e=new eI(d);for(let[f,g]of(await this.sessionStore.set(this.createRequestCookies(b),e,a),d.entries()))c.setHeader(f,g)}else try{await this.sessionStore.set(await bD(),await bD(),a)}catch(a){}}validateAndExtractRequiredOptions(a){let b={domain:a.domain??process.env.AUTH0_DOMAIN,clientId:a.clientId??process.env.AUTH0_CLIENT_ID,appBaseUrl:a.appBaseUrl??process.env.APP_BASE_URL,secret:a.secret??process.env.AUTH0_SECRET},c=a.clientSecret??process.env.AUTH0_CLIENT_SECRET,d=a.clientAssertionSigningKey??process.env.AUTH0_CLIENT_ASSERTION_SIGNING_KEY,e=Object.entries(b).filter(([,a])=>!a).map(([a])=>a);if(c||d||e.push("clientAuthentication"),e.length){let a={domain:"AUTH0_DOMAIN",clientId:"AUTH0_CLIENT_ID",appBaseUrl:"APP_BASE_URL",secret:"AUTH0_SECRET"},b="WARNING: Not all required options were provided when creating an instance of Auth0Client. Ensure to provide all missing options, either by passing it to the Auth0Client constructor, or by setting the corresponding environment variable.\n";e.forEach(c=>{"clientAuthentication"===c?b+=`Missing: clientAuthentication: Set either AUTH0_CLIENT_SECRET env var or AUTH0_CLIENT_ASSERTION_SIGNING_KEY env var, or pass clientSecret or clientAssertionSigningKey in options
`:a[c]?b+=`Missing: ${c}: Set ${a[c]} env var or pass ${c} in options
`:b+=`Missing: ${c}
`}),console.error(b.trim())}return{...b,clientSecret:c,clientAssertionSigningKey:d}}}let fP=new fO;async function fQ(a){if(a.nextUrl.pathname.startsWith("/api/auth"))return Z.next();if(!await fP.getSession(a)){let b=new URL("/api/auth/login",a.url);return b.searchParams.set("returnTo",a.nextUrl.pathname),Z.redirect(b)}return Z.next()}let fR={matcher:["/((?!_next/static|_next/image|favicon.ico).*)"]};c(747);let fS={...m},fT=fS.middleware||fS.default,fU="/middleware";if("function"!=typeof fT)throw Object.defineProperty(Error(`The Middleware "${fU}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function fV(a){return bj({...a,page:fU,handler:async(...a)=>{try{return await fT(...a)}catch(e){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await q(e,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),e}}})}},720:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return g}});let d=c(392),e=c(165);function f(){return(0,e.interceptFetch)(c.g.fetch)}function g(a){return(b,c)=>(0,d.withRequest)(b,e.reader,()=>a(b,c))}},747:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(66),e=c(944);function f(a){return(0,e.nJ)(a)||(0,d.RM)(a)}},770:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}c.d(b,{Ts:()=>d,W5:()=>h});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}},809:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});class d extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},814:(a,b,c)=>{"use strict";a.exports=c(440)},817:(a,b,c)=>{(()=>{"use strict";var b={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172);class h{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}let b=this;b.setLogger=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)},b.disable=()=>{(0,g.unregisterGlobal)("diag",b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new h),this._instance}}b.DiagAPI=h},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){let b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){for(let a=0;a<c.length;a++)this[c[a].n]=function(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}(c[a].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(b.DiagLogLevel||(b.DiagLogLevel={}))},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||f.major!==h.major)return g(a);if(0===f.major)return f.minor===h.minor&&f.patch<=h.patch?(b.add(a),!0):g(a);return f.minor<=h.minor?(b.add(a),!0):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(b.ValueType||(b.ValueType={}))},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=function(){return b.NOOP_METER}},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:c.g},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){var d;if(null==b?void 0:b.root)return new f.NonRecordingSpan;let i=c&&(0,e.getSpanContext)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.isSpanContextValid)(i)?new f.NonRecordingSpan(i):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(b.SamplingDecision||(b.SamplingDecision={}))},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564);class e{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf("=");if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new e;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=e},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(b.SpanKind||(b.SpanKind={}))},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(b.SpanStatusCode||(b.SpanStatusCode={}))},475:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(b.TraceFlags||(b.TraceFlags={}))},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},d={};function e(a){var c=d[a];if(void 0!==c)return c.exports;var f=d[a]={exports:{}},g=!0;try{b[a].call(f.exports,f,f.exports,e),g=!1}finally{g&&delete d[a]}return f.exports}e.ab="//";var f={};(()=>{Object.defineProperty(f,"__esModule",{value:!0}),f.trace=f.propagation=f.metrics=f.diag=f.context=f.INVALID_SPAN_CONTEXT=f.INVALID_TRACEID=f.INVALID_SPANID=f.isValidSpanId=f.isValidTraceId=f.isSpanContextValid=f.createTraceState=f.TraceFlags=f.SpanStatusCode=f.SpanKind=f.SamplingDecision=f.ProxyTracerProvider=f.ProxyTracer=f.defaultTextMapSetter=f.defaultTextMapGetter=f.ValueType=f.createNoopMeter=f.DiagLogLevel=f.DiagConsoleLogger=f.ROOT_CONTEXT=f.createContextKey=f.baggageEntryMetadataFromString=void 0;var a=e(369);Object.defineProperty(f,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return a.baggageEntryMetadataFromString}});var b=e(780);Object.defineProperty(f,"createContextKey",{enumerable:!0,get:function(){return b.createContextKey}}),Object.defineProperty(f,"ROOT_CONTEXT",{enumerable:!0,get:function(){return b.ROOT_CONTEXT}});var c=e(972);Object.defineProperty(f,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}});var d=e(957);Object.defineProperty(f,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}});var g=e(102);Object.defineProperty(f,"createNoopMeter",{enumerable:!0,get:function(){return g.createNoopMeter}});var h=e(901);Object.defineProperty(f,"ValueType",{enumerable:!0,get:function(){return h.ValueType}});var i=e(194);Object.defineProperty(f,"defaultTextMapGetter",{enumerable:!0,get:function(){return i.defaultTextMapGetter}}),Object.defineProperty(f,"defaultTextMapSetter",{enumerable:!0,get:function(){return i.defaultTextMapSetter}});var j=e(125);Object.defineProperty(f,"ProxyTracer",{enumerable:!0,get:function(){return j.ProxyTracer}});var k=e(846);Object.defineProperty(f,"ProxyTracerProvider",{enumerable:!0,get:function(){return k.ProxyTracerProvider}});var l=e(996);Object.defineProperty(f,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var m=e(357);Object.defineProperty(f,"SpanKind",{enumerable:!0,get:function(){return m.SpanKind}});var n=e(847);Object.defineProperty(f,"SpanStatusCode",{enumerable:!0,get:function(){return n.SpanStatusCode}});var o=e(475);Object.defineProperty(f,"TraceFlags",{enumerable:!0,get:function(){return o.TraceFlags}});var p=e(98);Object.defineProperty(f,"createTraceState",{enumerable:!0,get:function(){return p.createTraceState}});var q=e(139);Object.defineProperty(f,"isSpanContextValid",{enumerable:!0,get:function(){return q.isSpanContextValid}}),Object.defineProperty(f,"isValidTraceId",{enumerable:!0,get:function(){return q.isValidTraceId}}),Object.defineProperty(f,"isValidSpanId",{enumerable:!0,get:function(){return q.isValidSpanId}});var r=e(476);Object.defineProperty(f,"INVALID_SPANID",{enumerable:!0,get:function(){return r.INVALID_SPANID}}),Object.defineProperty(f,"INVALID_TRACEID",{enumerable:!0,get:function(){return r.INVALID_TRACEID}}),Object.defineProperty(f,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return r.INVALID_SPAN_CONTEXT}});let s=e(67);Object.defineProperty(f,"context",{enumerable:!0,get:function(){return s.context}});let t=e(506);Object.defineProperty(f,"diag",{enumerable:!0,get:function(){return t.diag}});let u=e(886);Object.defineProperty(f,"metrics",{enumerable:!0,get:function(){return u.metrics}});let v=e(939);Object.defineProperty(f,"propagation",{enumerable:!0,get:function(){return v.propagation}});let w=e(845);Object.defineProperty(f,"trace",{enumerable:!0,get:function(){return w.trace}}),f.default={context:s.context,diag:t.diag,metrics:u.metrics,propagation:v.propagation,trace:w.trace}})(),a.exports=f})()},918:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(58).xl)()},944:(a,b,c)=>{"use strict";c.d(b,{nJ:()=>g,oJ:()=>e,zB:()=>f});var d=c(378);let e="NEXT_REDIRECT";var f=function(a){return a.push="push",a.replace="replace",a}({});function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,f]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===e&&("replace"===f||"push"===f)&&"string"==typeof g&&!isNaN(h)&&h in d.Q}},979:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}}}},a=>{var b=a(a.s=679);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=b}]);
//# sourceMappingURL=middleware.js.map